<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Hero Lab Data">
  <fileinfo>
    <info_author>TCArknight</info_author>
    <info_history>April 2, 2014 - Tim Shadow
-Fixed Wilder surges and updated all text to Ultimate Psionics.
    
15/03/2014 - Matteo Tirelli (Screetch1979)
- Wilder: Added talents
- Wilder: Fixed Elude Attack Progression
- Wilder: Fixed Improved Surge Bond Progression
- Wilder: Fixed Skill points, Class Skills
- War Mind: Fixed attack progression, save and skill points.
- Cerebremancer: Fixed Extra Spell per Day/Powers Known restriction</info_history>
    </fileinfo>
  <thing id="cHelpPWa" name="Psychic Warrior" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="PWa"/>
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Warrior&apos;s Path"/>
    <fieldval field="cSpecName" value="Warrior&apos;s Path"/>
    <fieldval field="cSplMinLvl" value="1"/>
    <fieldval field="cSpellName" value="Power"/>
    <fieldval field="cSplMaxLvl" value="6"/>
    <fieldval field="cPsiSPowNm" value="Talents"/>
    <fieldval field="cPsiSPowMa" value="2"/>
    <arrayval field="cBonFtTot" index="1" value="2"/>
    <arrayval field="cBonFtTot" index="4" value="3"/>
    <arrayval field="cBonFtTot" index="7" value="4"/>
    <arrayval field="cBonFtTot" index="10" value="5"/>
    <arrayval field="cBonFtTot" index="13" value="6"/>
    <arrayval field="cBonFtTot" index="16" value="7"/>
    <arrayval field="cPsiPPTot" index="0" value="1"/>
    <arrayval field="cPsiPPTot" index="1" value="2"/>
    <arrayval field="cPsiPPTot" index="2" value="4"/>
    <arrayval field="cPsiPPTot" index="3" value="6"/>
    <arrayval field="cPsiPPTot" index="4" value="8"/>
    <arrayval field="cPsiPPTot" index="5" value="12"/>
    <arrayval field="cPsiPPTot" index="6" value="16"/>
    <arrayval field="cPsiPPTot" index="7" value="20"/>
    <arrayval field="cPsiPPTot" index="8" value="24"/>
    <arrayval field="cPsiPPTot" index="9" value="28"/>
    <arrayval field="cPsiPPTot" index="10" value="36"/>
    <arrayval field="cPsiPPTot" index="11" value="44"/>
    <arrayval field="cPsiPPTot" index="12" value="52"/>
    <arrayval field="cPsiPPTot" index="13" value="60"/>
    <arrayval field="cPsiPPTot" index="14" value="68"/>
    <arrayval field="cPsiPPTot" index="15" value="80"/>
    <arrayval field="cPsiPPTot" index="16" value="92"/>
    <arrayval field="cPsiPPTot" index="17" value="104"/>
    <arrayval field="cPsiPPTot" index="18" value="116"/>
    <arrayval field="cPsiPPTot" index="19" value="128"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="3"/>
    <arrayval field="cPsiPowTot" index="3" value="4"/>
    <arrayval field="cPsiPowTot" index="4" value="5"/>
    <arrayval field="cPsiPowTot" index="5" value="6"/>
    <arrayval field="cPsiPowTot" index="6" value="7"/>
    <arrayval field="cPsiPowTot" index="7" value="8"/>
    <arrayval field="cPsiPowTot" index="8" value="9"/>
    <arrayval field="cPsiPowTot" index="9" value="10"/>
    <arrayval field="cPsiPowTot" index="10" value="11"/>
    <arrayval field="cPsiPowTot" index="11" value="12"/>
    <arrayval field="cPsiPowTot" index="12" value="13"/>
    <arrayval field="cPsiPowTot" index="13" value="14"/>
    <arrayval field="cPsiPowTot" index="14" value="15"/>
    <arrayval field="cPsiPowTot" index="15" value="16"/>
    <arrayval field="cPsiPowTot" index="16" value="17"/>
    <arrayval field="cPsiPowTot" index="17" value="18"/>
    <arrayval field="cPsiPowTot" index="18" value="19"/>
    <arrayval field="cPsiPowTot" index="19" value="20"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="2"/>
    <arrayval field="cPsiLevTot" index="6" value="3"/>
    <arrayval field="cPsiLevTot" index="7" value="3"/>
    <arrayval field="cPsiLevTot" index="8" value="3"/>
    <arrayval field="cPsiLevTot" index="9" value="4"/>
    <arrayval field="cPsiLevTot" index="10" value="4"/>
    <arrayval field="cPsiLevTot" index="11" value="4"/>
    <arrayval field="cPsiLevTot" index="12" value="5"/>
    <arrayval field="cPsiLevTot" index="13" value="5"/>
    <arrayval field="cPsiLevTot" index="14" value="5"/>
    <arrayval field="cPsiLevTot" index="15" value="6"/>
    <arrayval field="cPsiLevTot" index="16" value="6"/>
    <arrayval field="cPsiLevTot" index="17" value="6"/>
    <arrayval field="cPsiLevTot" index="18" value="6"/>
    <arrayval field="cPsiLevTot" index="19" value="6"/>
    <arrayval field="cBonFtTot" index="19" value="8"/>
    <arrayval field="cBonFtTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="8" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skClimb" name="Climb" abbrev="Climb"/>
    <tag group="AgeColumn" tag="2"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="Classes" tag="PsychicWar"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="Profession" name="All Profession Skills" abbrev="All Profession Skills"/>
    <tag group="ClassSkill" tag="skRide" name="Ride" abbrev="Ride"/>
    <tag group="ClassSkill" tag="skSwim" name="Swim" abbrev="Swim"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="cWill" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="cFort" tag="Good" name="Fast" abbrev="Fast"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="cRef" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <bootstrap thing="cPWaExpPat">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPWaPathSk">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPWaMarPow">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPWaPathSk">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPWaPathPo">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPWaPathSk">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPWaTwistP">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPWaPathSk">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPWaPathwe">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPWaPathSk">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPWaPathwe">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPWaPathSk">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPWaEterna">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmHeavy"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="cPWaWarPat">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPWaPathPo">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPWaPathPo">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <link linkage="psiattr" thing="aWIS"/>
    </thing>
  <thing id="cPUPsiWar" name="Psychic Warrior" description="Where the psion spends his days studying the intricacies of psionic power and unlocking the mysteries of the mind, others choose to use their internal power to augment their physical form. These psychic warriors use their psionic potential as a way to improve their natural abilities, becoming fierce and deadly in their chosen path.{br}{br}{b}Role:{/b} The psychic warrior&apos;s path determines his strengths and weaknesses within a party. Whether he is the epitome of unleashing the beast within, or a stealthy combatant who strikes from the shadows, the psychic warrior&apos;s primary focus is typically battlefield control and dealing or blocking damage.{br}{br}{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpPWa"></bootstrap>
    <link linkage="helper" thing="cHelpPWa"/>
    </thing>
  <thing id="cPWaExpPat" name="Expanded Path" description="The psychic warrior expands his understanding of his chosen path. From this point on, he can use the Trance and Maneuver associated with his chosen path." compset="ClSpecial" summary="Gain the trance and maneuver from your path.">
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cPWaWarPat" name="Warrior&apos;s Path" description=" A psychic warrior can choose to adhere to a path.  This path grants access to two path powers, a path trance and a path maneuver." compset="ClSpecial" summary="Gain benefits based on a specific warrior path.">
    <tag group="Helper" tag="UseOwnLev"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PreLevel"><![CDATA[    
    if (field[xIndex].value >= 2) then
        field[livename].text = "Way of the Warrior"
        field[listname].text = "Way of the Warrior"
        field[abSumm].text = "The psychic warrior gets to choose a second warrior's path. He can exchange one of his current path powers for one of the new path powers available.  The psychic warrior may only have two path powers in total."
    endif]]></eval>
    </thing>
  <thing id="cPWaAscEP" name="Expanded Path (Ascetic)" description="The psychic warrior expands his understanding of his chosen path. From this point on, he can use the Trance and Maneuver associated with his chosen path." compset="ClSpecial" summary="Gain the trance and maneuver from your path.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="UseOwnLev"/>
    <eval phase="Final" priority="10000"><![CDATA[if (hero.tagcount[Classes.PsychicWar] >= 9) then
  field[livename].text = "Way of the Warrior (Ascetic)"
  field[listname].text = "Way of the Warrior (Ascetic)"
  field[abSumm].text = "The psychic warrior can choose to use the Trance and Maneuver from his second warrior's path, but may only benefit from one Trance at a time."
  endif]]></eval>
    </thing>
  <thing id="cPWaMarPow" name="Martial Power" description="If the psychic warrior makes a melee attack, he can manifest a path power as part of the attack action. The power takes effect immediately after the attack has been finished." compset="ClSpecial" summary="Manifest a path power as part of a melee attack.">
    <tag group="SpecType" tag="Attack"/>
    </thing>
  <thing id="cPWaTwistP" name="Twisting Paths" description="While maintaining psionic focus and using a Trance, the psychic warrior can \nchange into the Trance of his other path as a swift action." compset="ClSpecial" summary="Switch trances as a swift action."></thing>
  <thing id="cPWaPathwe" name="Pathweaving" description="As long as the psychic warrior maintains psionic focus, once per day he can gain the benefits of both of his Trances for up to 5 minutes.  Activating this ability is a free action.  \nEvery third level thereafter, the psychic warrior can use this ability an additional time per day." compset="ClSpecial" summary="Gain the benefit of both path trances for an encounter.">
    <tag group="User" tag="Tracker"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ Add a tag indicating that wild shape is ok
      ~ perform hero.assign[Hero.Pathweaving]

      ~we get 1 use at 15th level & 2 at 18th
      var uses as number
      uses = (field[xAllLev].value - 15) / 3 
      ~if (field[xAllLev].value >= 18) then
      ~  uses = 2
      ~elseif (field[xAllLev].value >= 15) then
      ~  uses = 1
      ~endif

      field[trkMax].value += round(uses,0,-1)
      perform assign[Usage.Day]]]></eval>
    <eval phase="Final" priority="10000"><![CDATA[
      field[abValue].value += field[xCount].value
      field[livename].text = "Pathweaving " & field[abValue].value & "/day"
      field[abSumm].text = "Gain the benefit of both your Trances " & field[abValue].value & "/day."
      field[listname].text = "Pathweaving " & field[xIndex].value & "/day"]]></eval>
    </thing>
  <thing id="cPWaEterna" name="Eternal Warrior" description="Once per day as a free action, the psychic warrior can enter into a very powerful Trance. As long as he maintains psionic focus, for up to 5 minutes the psychic warrior adds his Wisdom modifier to his attack rolls, damage rolls, AC, skill checks, ability checks, saves, and initiative, and he increases his speed by +5 feet for every point of his Wisdom modifier." compset="ClSpecial" summary="Enter a powerful trance as long as you maintain your psionic focus.">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cPWaPathSk" name="Path Skill" description="At 4th level, the psychic warrior gains a +2 bonus to one skill associated with a path he is on. Every three levels thereafter, he can choose to increase the bonus to one of his path skills by +2 (to a maximum of +6 for any one path skill). This may be a skill he has already chosen or a new skill associated with a path he is on.\n\n{b}Note:{/b} If you don&apos;t see a Knowledge or Profession like skill in the drop down please go to the {b}Skills{/b} tab and add the skill to your character.  It will then be avaible to select from the drop down." compset="ClSpecial" summary="+2 bonus to one skill associated with the path you are on.">
    <fieldval field="abValue" value="2"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If no ClassSkill tags then get out now!
      If (tagcount[PathSkill.?] <> 0) Then
        ~ Set drop down list of skills based on PathSkill tags
        field[usrCandid1].text = "component.BaseSkill & (" & tagids[PathSkill.?,"|"] 

        ~ If we are special ALL Craft then add Craft Helper tag
        If (tagis[PathSkill.Craft] <> 0) Then
          field[usrCandid1].text &= "|Helper.SkCatCraft"
        Endif
        ~ If we are special ALL Knowledge then add Knowledge Helper tag
        If (tagis[PathSkill.Knowledge] <> 0) Then 
          field[usrCandid1].text &= "|Helper.SkCatKnow"
        Endif
        ~ If we are special ALL Perform then add Perform Helper tag
        If (tagis[PathSkill.Perform] <> 0) Then
          field[usrCandid1].text &= "|Helper.SkCatPerf"
        Endif
        ~ If we are special ALL Profession then add Profession Helper tag
        If (tagis[PathSkill.Profession] <> 0) Then
          field[usrCandid1].text &= "|Helper.SkCatProf"
        Endif
        ~ Add end bracket
        field[usrCandid1].text &= ")"
      Endif

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we have not chosen then get out now
      doneif (field[usrChosen1].ischosen <> 1)

      ~ Give bonus to skill
      field[usrChosen1].chosen.field[Bonus].value += field[abValue].value
      ~ Set the PathSkill tag so we can error check later
      perform field[usrChosen1].chosen.assign[PsyWarrior.PathSkill]]]></eval>
    <evalrule phase="Validation" priority="10000" message="You can only select the same skill three times." summary="You can only select the same skill three times."><![CDATA[
      ~ If we have not chosen then get out now
      validif (field[usrChosen1].ischosen <> 1)

      ~ If we have chosen this same skills three times or more than error
      If (field[usrChosen1].chosen.tagcount[PsyWarrior.PathSkill] > 3) Then
        @valid = 0
      ~.. Otherwise we are valid
      Else
        @valid = 1
      Endif]]></evalrule>
    </thing>
  <thing id="cPWaAssEP" name="Expanded Path (Assassin)" description="The psychic warrior expands his understanding of his chosen path. From this point on, he can use the Trance and Maneuver associated with his chosen path." compset="ClSpecial" summary="Gain the trance and maneuver from your path.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="UseOwnLev"/>
    <eval phase="Final" priority="10000"><![CDATA[if (hero.tagcount[Classes.PsychicWar] >= 9) then
        field[livename].text = "Way of the Warrior (Assassin)"
        field[listname].text = "Way of the Warrior (Assassin)"
        field[abSumm].text = "The psychic warrior can choose to use the Trance and Maneuver from his second warrior's path, but may only benefit from one Trance at a time."
    endif]]></eval>
    </thing>
  <thing id="cHelpPsi" name="Psion" compset="Class" uniqueness="unique">
    <fieldval field="cSpecSing" value="Discipline"/>
    <fieldval field="cAbbr" value="Psi"/>
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="shortname" value="Psion"/>
    <fieldval field="cPsiSPowNm" value="Talents"/>
    <fieldval field="cPsiSPowMa" value="3"/>
    <arrayval field="cBonFtTot" index="19" value="5"/>
    <arrayval field="cBonFtTot" index="0" value="1"/>
    <arrayval field="cBonFtTot" index="4" value="2"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cBonFtTot" index="9" value="3"/>
    <arrayval field="cBonFtTot" index="14" value="4"/>
    <arrayval field="cPsiPowTot" index="0" value="3"/>
    <arrayval field="cPsiPowTot" index="1" value="5"/>
    <arrayval field="cPsiPowTot" index="2" value="7"/>
    <arrayval field="cPsiPowTot" index="3" value="9"/>
    <arrayval field="cPsiPowTot" index="4" value="11"/>
    <arrayval field="cPsiPowTot" index="5" value="13"/>
    <arrayval field="cPsiPowTot" index="6" value="15"/>
    <arrayval field="cPsiPowTot" index="7" value="17"/>
    <arrayval field="cPsiPowTot" index="8" value="19"/>
    <arrayval field="cPsiPowTot" index="9" value="21"/>
    <arrayval field="cPsiPowTot" index="10" value="22"/>
    <arrayval field="cPsiPowTot" index="11" value="24"/>
    <arrayval field="cPsiPowTot" index="12" value="25"/>
    <arrayval field="cPsiPowTot" index="13" value="27"/>
    <arrayval field="cPsiPowTot" index="14" value="28"/>
    <arrayval field="cPsiPowTot" index="15" value="30"/>
    <arrayval field="cPsiPowTot" index="16" value="31"/>
    <arrayval field="cPsiPowTot" index="17" value="33"/>
    <arrayval field="cPsiPowTot" index="18" value="34"/>
    <arrayval field="cPsiPowTot" index="19" value="36"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="2"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="3"/>
    <arrayval field="cPsiLevTot" index="5" value="3"/>
    <arrayval field="cPsiLevTot" index="6" value="4"/>
    <arrayval field="cPsiLevTot" index="7" value="4"/>
    <arrayval field="cPsiLevTot" index="8" value="5"/>
    <arrayval field="cPsiLevTot" index="9" value="5"/>
    <arrayval field="cPsiLevTot" index="10" value="6"/>
    <arrayval field="cPsiLevTot" index="11" value="6"/>
    <arrayval field="cPsiLevTot" index="12" value="7"/>
    <arrayval field="cPsiLevTot" index="13" value="7"/>
    <arrayval field="cPsiLevTot" index="14" value="8"/>
    <arrayval field="cPsiLevTot" index="15" value="8"/>
    <arrayval field="cPsiLevTot" index="16" value="9"/>
    <arrayval field="cPsiLevTot" index="17" value="9"/>
    <arrayval field="cPsiLevTot" index="18" value="9"/>
    <arrayval field="cPsiLevTot" index="19" value="9"/>
    <arrayval field="cPsiPPTot" index="0" value="2"/>
    <arrayval field="cPsiPPTot" index="1" value="6"/>
    <arrayval field="cPsiPPTot" index="2" value="11"/>
    <arrayval field="cPsiPPTot" index="3" value="17"/>
    <arrayval field="cPsiPPTot" index="4" value="25"/>
    <arrayval field="cPsiPPTot" index="5" value="35"/>
    <arrayval field="cPsiPPTot" index="6" value="46"/>
    <arrayval field="cPsiPPTot" index="7" value="58"/>
    <arrayval field="cPsiPPTot" index="8" value="72"/>
    <arrayval field="cPsiPPTot" index="9" value="88"/>
    <arrayval field="cPsiPPTot" index="10" value="106"/>
    <arrayval field="cPsiPPTot" index="11" value="126"/>
    <arrayval field="cPsiPPTot" index="12" value="147"/>
    <arrayval field="cPsiPPTot" index="13" value="170"/>
    <arrayval field="cPsiPPTot" index="14" value="195"/>
    <arrayval field="cPsiPPTot" index="15" value="221"/>
    <arrayval field="cPsiPPTot" index="16" value="250"/>
    <arrayval field="cPsiPPTot" index="17" value="280"/>
    <arrayval field="cPsiPPTot" index="18" value="311"/>
    <arrayval field="cPsiPPTot" index="19" value="343"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="Profession" name="All Profession Skills" abbrev="All Profession Skills"/>
    <tag group="WepProf" tag="wShortspr"/>
    <tag group="Classes" tag="Psion" name="Psion" abbrev="Psion"/>
    <tag group="fCategory" tag="Metapsion"/>
    <tag group="WepProf" tag="wCrsHeavy" name="Crossbow, Heavy" abbrev="Crossbow, Heavy"/>
    <tag group="WepProf" tag="wCrsLight" name="Crossbow, Light" abbrev="Crossbow, Light"/>
    <tag group="fCategory" tag="ItemCrPsi"/>
    <tag group="WepProf" tag="wDagger" name="Dagger" abbrev="Dagger"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="WepProf" tag="wQtrstaff" name="Quarterstaff" abbrev="Quarterstaff"/>
    <tag group="cAttack" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="ClassSkill" tag="skSpellcr" name="Spellcraft" abbrev="Spellcraft"/>
    <tag group="ClassSkill" tag="Knowledge" name="All Knowledge Skills" abbrev="All Knowledge Skills"/>
    <tag group="cFort" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="cRef" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="cWill" tag="Good" name="Fast" abbrev="Fast"/>
    <tag group="AgeColumn" tag="3" name="Column 3 (Cleric, Druid, Monk, Wizard)" abbrev="Column 3 (Cleric, Druid, Monk, Wizard)"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="WepProf" tag="wClub" name="Club" abbrev="Club"/>
    <bootstrap thing="fPUWepPsi"></bootstrap>
    <bootstrap thing="cPsiDetPsi">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="psiattr" thing="aINT"/>
    </thing>
  <thing id="cPUPsion" name="Psion" description="The powers of the mind are varied and limitless, and the psion learns how to unlock them. Whether he is a shaper or a telepath, an egoist or a nomad, or even a generalist, the psion learns to manifest psionic powers that alter himself and the world around him. Due to the limited powers that any one psion knows, each psion is unique in his capabilities, as his latent abilities are drawn out and shaped into the psionic powers that define the psion.{br}{br}Each psion also gains unique abilities depending on his choice of disciplines: the egoist excels at altering his own physiology, while the nomad learns to manipulate the very fabric of space and time, and the generalist becomes a master of the overall principles of psionics, while sacrificing some of the unique abilities of the other disciplines.{br}{br}{b}Role:{/b} The psion can fulfill a variety of different roles depending upon the power choices he makes. Generalist psions have the greatest versatility of the different psions, while those of a particular discipline excel at the given focus of their chosen specialization. Regardless of their choice, all psions are masters of the powers of the mind and capable of helping their allies against any danger.{br}{br}{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpPsi"></bootstrap>
    <link linkage="helper" thing="cHelpPsi"/>
    </thing>
  <thing id="cPsiSeer" name="Clairsentience (Seer)" description="A psion who chooses clairsentience is known as a seer. Seers can learn precognitive powers to aid their comrades in combat, as well as powers that permit them to gather information in many different ways.\n\n{i}Class Skills:{/i} Diplomacy (Cha) and Perception (Wis)." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="SpecSource" tag="cHelpPsi"/>
    <bootstrap thing="cPsiAltWav">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPsiRecInf">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPsiSeeCon">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiPerFSi">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPsiAltWav">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPsiAltWav">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPsiAltWav">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiAltWav">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPsiAltWav">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPsiAltWav">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="UserFinal" priority="1000"><![CDATA[
      ~ Give access to Seer Powers
      linkage[table].field[cPsiExpr].text &= "|psiClass.cPsiSeer"]]></eval>
    </thing>
  <thing id="cPsiDetPsi" name="Talents" description="Each psion gains three 0 level talents of their choice, as well as {i}detect psionics{/i}. These talents do not count against the psion&apos;s powers known.\n\nTalents are 0th-level psionic powers that are powered by psionic focus, rather than power points. These abilities give manifesters minor abilities that can be used at-will, but typically have very limited functionality or use. Talents are typically used as a way to train manifesters to avoid depleting the power point reserve.\n\nA manifester may manifest any talent that he knows without paying power points as long as he maintains psionic focus. However, if the talent has a duration longer than instantaneous, he can only have one such talent active at a time; manifesting another talent without paying power points in this manner causes the original talent to immediately expire.\n\nA manifester may also manifest a talent by paying one power point, regardless of whether psionic focus is held; these do not cause any other active talents to lapse and may be augmented if the power description indicates such.\n\nTalents can only be augmented if the manifester spends 1 power point on the manifestation in addition to any power points spent augmenting the power.\n\n{B}Note{/b} You do not need to select {i}detect psionics{/i}. When you selected &quot;Focused&quot; on the &quot;Psionics&quot; tab your talents including {i}detect psionics{/i} will display." compset="ClSpecial" summary="You may learn 3 &quot;talents&quot; (level 0 powers) as well as {i}detect psionics{/i}.">
    <bootstrap thing="puDetPsi0">
      <autotag group="SpellSort" tag="cHelpPsi"/>
      <autotag group="SpellType" tag="cHelpPsi"/>
      </bootstrap>
    </thing>
  <thing id="cPsiRecInf" name="Recovered Information" description="At 2nd level, as long as you maintain psionic focus, when someone successfully saves against a Clairsentience power you&apos;ve manifested, you learn about a single psionic effect currently in effect (if any) on the target. Each subsequent successful save against a Clairsentience power you manifest transfers information about another psionic effect currently in effect (if any) on the target. If there are no psionic powers in effect on the target that you do not already know, then you learn information about a single psionic item the creature currently possesses, as if you had {i}identified{/i} the item. This effect does not give any information on artifacts. The number of psionic effects or items you learn about per save increases by one every four psion levels thereafter." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="1000"><![CDATA[      ~the number of psionic effects or items (level-2)/4
      var bonus as number
      bonus = (#levelcount[Psion] - 2)/4
      bonus = round(bonus,0,-1)

      field[abSumm].text = "You may learn about " & bonus & "psionic effects or items per save."]]></eval>
    </thing>
  <thing id="cPsiAltWav" name="Alter the Waves" description="At 8th level, each day when you meditate to regain your power points, you gain a +3 insight bonus that can be used on any one die roll. Every two psion levels thereafter, this ability may be used one additional time per day and the insight bonus is increased by 1." compset="ClSpecial">
    <tag group="User" tag="Tracker" name="Tracker" abbrev="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day" name="/day" abbrev="/day"/>
    <eval phase="Render" priority="1000" index="2"><![CDATA[
~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abSumm].text = "+" & field[abValue].value & " insight bonus, " & field[trkMax].value & "/day."]]></eval>
    <eval phase="PostLevel" priority="10000" index="3"><![CDATA[~Set the list name
field[listname].text = field[thingname].text & " " & field[xIndex].value & "/day"

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[trkMax].value += field[xCount].value
field[abValue].value += 2 + field[xCount].value]]></eval>
    </thing>
  <thing id="cPsiSeeCon" name="Seeing the Connections" description="At 14th level, once per day, you can automatically identify all properties of a magic item, magic aura, or identify a spell or power in effect. In addition, if you are being scried upon, you can expend your daily use of this power as an immediate action to disrupt the scrying attempt and instead scry on the originator of the effect using the same effect as that which targeted you. You need not pay any power point cost for this ability, although the originator can make a save to block the attempt (same DC as the original scrying attempt). This ability does not work on artifacts." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker" name="Tracker" abbrev="Tracker"/>
    <tag group="Usage" tag="Day" name="/day" abbrev="/day"/>
    </thing>
  <thing id="cPsiPerFSi" name="Perpetual Foresight" description="At 20th, your ability to foresee the different possibilities has suffused you. Anytime you roll a d20, you may expend your psionic focus as an immediate action to roll a second time. To choose the result of the second roll, you must pay the unmodified die roll in power points." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPsiShaper" name="Metacreativity (Shaper)" description="A psion specializing in metacreativity is known as a shaper. This discipline includes powers that draw ectoplasm from the Astral Plane, creating semisolid and solid items such as armor, weapons, or animated constructs to do battle at the shaper&apos;s command.\n\n{i}Class Skills:{/i} Bluff (Cha), Disguise (Cha), and Use Magic Device (Cha)." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpPsi"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDisguise"/>
    <bootstrap thing="cPsiEctPro">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPsiSumCal">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPsiMaeEct">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiAstAll">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPsiEctPro">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPsiEctPro">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPsiEctPro">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="UserFinal" priority="1000"><![CDATA[
      ~ Give access to Shaper Powers
      linkage[table].field[cPsiExpr].text &= "|psiClass.cPsiShaper"]]></eval>
    </thing>
  <thing id="cPsiKineti" name="Psychokinesis (Kineticist)" description="Psions who specialize in psychokinesis are known as kineticists. They are the masters of powers that manipulate and transform matter and energy. Kineticists can attack with devastating blasts of energy.   Unlike other psions, when a kineticist selects any power that specifies the character must select from cold, electricity, fire, or sonic damage, he gains the option to choose the type of damage at the time the power is manifested.\n\n{i}Class Skills:{/i} Disable Device (Dex) and Intimidate (Cha)." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpPsi"/>
    <tag group="ClassSkill" tag="skDisable"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <bootstrap thing="cPsiKinAur">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPsiTelHur">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPsiEngRec">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiEngImm">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPsiTelHur">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPsiTelHur">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPsiTelHur">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiTelHur">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPsiKinAur">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPsiKinAur">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiKinAur">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPsiKinAur">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="UserFinal" priority="1000"><![CDATA[
      ~ Give access to Kinetic Powers
      linkage[table].field[cPsiExpr].text &= "|psiClass.cPsiKineti"]]></eval>
    </thing>
  <thing id="cPsiEgoist" name="Psychometabolism (Egoist)" description="A psion who specializes in psychometabolism is known as an egoist. This discipline consists of powers that alter the psion&apos;s psychobiology, or that of creatures near him. An egoist can both heal and transform himself into a fearsome fighter.\n\n{i}Class Skills:{/i} Acrobatics (Dex) and Heal (Wis)." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpPsi"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skHeal"/>
    <bootstrap thing="cPsiShaEff">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPsiMetHea">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPsiResBod">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiInfFor">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="UserFinal" priority="1000"><![CDATA[
      ~ Give access to Egoist Powers
      linkage[table].field[cPsiExpr].text &= "|psiClass.cPsiEgoist"]]></eval>
    </thing>
  <thing id="cPsiNomad" name="Psychoportation (Nomad)" description="A psion who relies on psychoportation powers is known as a nomad. Nomads can wield powers that propel or displace objects in space or time.\n\n{i}Class Skills:{/i} Climb (Str), Fly (Dex), Survival (Wis), and Swim (Str)." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpPsi"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skFly"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <bootstrap thing="cPsiAccAct">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiRapMov">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPsiIncPos">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPsiNomSte">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <eval phase="UserFinal" priority="1000"><![CDATA[
      ~ Give access to Nomad Powers
      linkage[table].field[cPsiExpr].text &= "|psiClass.cPsiNomad"]]></eval>
    </thing>
  <thing id="cPsiTelepa" name="Telepathy (Telepath)" description="A psion who chooses the discipline of telepathy is known as a telepath. He is the master of powers that allow mental contact and control of other sentient creatures. A telepath can deceive or destroy the minds of his enemies with ease.\n\n{i}Class Skills:{/i} Bluff (Cha), Diplomacy (Cha), and Sense Motive (Wis)." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpPsi"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <bootstrap thing="cPsiTelpth">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPsiMenInt">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPsiLastRe">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPsiGrdTho">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="UserFinal" priority="1000"><![CDATA[
      ~ Give access to Telepath Powers
      linkage[table].field[cPsiExpr].text &= "|psiClass.cPsiTelepa"]]></eval>
    </thing>
  <thing id="cPsiSumCal" name="Summoner&apos;s Call" description="At 2nd level, if you maintain focus when manifesting a power of the creation subdiscipline, the duration is increased by 1 round plus 1 round for every four psion levels. In addition, your astral constructs gain an additional menu option of the highest menu available when you manifest the power." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Render" priority="1000"><![CDATA[      ~the bonus rounds for the creation subdiscipline 1+level/4
      var bonus as number
      bonus = 1+(#levelcount[Psion]/4)
      bonus = round(bonus,0,-1)

      field[abSumm].text = "Manifestations from the creation subdiscipline last an additional " & bonus & "rounds."]]></eval>
    </thing>
  <thing id="cPsiEctPro" name="Extoplasmic Protection" description="At 8th level, you can gain an ectoplasmic coating over your form, granting you concealment for one round per psion level, usable once per day and an additional time per day every four psion levels thereafter." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
~Set the list name
field[listname].text = field[thingname].text & " " & field[xIndex].value & "/day"

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ If we've been Disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

~ Uses per day
field[trkMax].value += field[xCount].value
~ Rounds per use
field[abValue].value += field[xTotalLev].value]]></eval>
    <eval phase="Render" priority="1000" index="2"><![CDATA[
~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ If we've been Disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abSumm].text = "Gain concealment for " & field[abValue].value & "rounds, " & field[trkMax].value & "/day."]]></eval>
    </thing>
  <thing id="cPsiMaeEct" name="Maestro of Ectoplasm" description="At 14th level, once per day as a standard action, you can take raw ectoplasm and use it in a myriad of ways. You can choose to coat up to 50 square feet (in 10 foot squares) in an ectoplasmic slick, as the {i}ectoplasmic sheen{/i} power (DC 10 + half psion level + Intelligence modifier), or create a up to 7 levels in astral constructs, divided at your discretion (a 5thlevel construct and a 2nd-level construct, a single 7th level construct, seven 1st-level constructs, etc.), create a volume of matter as if manifesting {i}major ectoplasmic creation{/i}, or repair a damaged astral construct for up to 30 hit points plus 1 hit point per psion level." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aINT"/>
    </thing>
  <thing id="cPsiAstAll" name="Astral Ally" description="At 20th level, you can change the duration of an {i}astral construct{/i} power to permanent. You can have no more than one {i}astral construct{/i} power made permanent in this way at one time. If you designate another {i}astral construct{/i} power as permanent, the previous power immediately ends." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPsiBrePow" name="Breach Power Resistance" description="At 8th level, anytime you manifest a power, you may expend your psionic focus to add your Intelligence modifier on any check to overcome power resistance.   This bonus increases by 1 every two psion levels thereafter." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="1000"><![CDATA[      ~the bonus rounds for the creation subdiscipline 1+level/4
      var bonus as number
      bonus = #attrmod[aINT] + ((#levelcount[Psion]-8)/2)
      bonus = round(bonus,0,-1)

      field[abSumm].text = "You may expend your psionic focus to gain a +" & bonus & "to overcome power resistance."]]></eval>
    </thing>
  <thing id="cPsiDblMan" name="Double Manifest" description="At 14th level, once per day, you may manifest two powers with a single action, but the combined power point cost cannot exceed your manifester level and the two powers must be of different disciplines.   The two powers must have the same manifesting time and if they have a target, the targets for the powers may be different." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPsiExMind" name="Expanded Mind" description=" At 20th level, each day when you meditate to regain power points, you may choose any one power from any class power list and add it to your powers known for the day.  This power does not count against your number of powers known." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPsiGen" name="Generalist (None)" description="A psion who chooses to remain more general in his studies of psionics is known as a generalist.  While he does not gain the unique abilities each discipline grants to the specialized psions, he is able to broaden his powers and blend them in unique ways.\n\n{i}Class Skills:{/i} Use Magic Device (Cha) and any one skill chosen from the above discipline lists." compset="CustomSpec" uniqueness="useronce">
    <fieldval field="usrCandid1" value="thingid.skAcrobat|thingid.skBluff|thingid.skClimb|thingid.skDiplo|thingid.skDisable|thingid.skDisguise|thingid.skFly|thingid.skHeal|thingid.skIntim|thingid.skPercep|thingid.skSenseMot|thingid.skSurvival|thingid.skSwim"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPsi"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="fShowWhat" tag="Skills"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <bootstrap thing="cPsiExMind">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPsiBonusF">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPsiBrePow">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPsiDblMan">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <eval phase="PreLevel" priority="5000">~ Make selected skill a class skill
perform field[usrChosen1].chosen.assign[Helper.ClassSkill]</eval>
    <eval phase="First" index="2">~ Set 2nd bonus feat tags
perform linkage[table].assign[fCatSec.ItemCreate]
perform linkage[table].assign[fCatSec.Metapsion]
~ Expanded Knowledge
perform linkage[table].assign[fIncSec.fPUExpKn]
~ Extra Power Known
perform linkage[table].assign[fIncSec.fPUExtPwrK]
~ Set the 2nd bonus feat levels
linkage[table].field[cSBonFtTot].arrayvalue[1]  = 1
linkage[table].field[cSBonFtTot].arrayvalue[6]  = 2
linkage[table].field[cSBonFtTot].arrayvalue[11] = 3
linkage[table].field[cSBonFtTot].arrayvalue[16] = 4</eval>
    </thing>
  <thing id="cPsiTelHur" name="Telekinetic Hurl" description="At 2nd level, as long as you maintain psionic focus, you gain the ability to telekinetically hurl objects of up to 5 lbs. as a ranged attack at an enemy within 30 ft. Such attacks deal 1d4 points of damage due to the force exerted. This damage increases by 1d4 points of damage for every four psion levels thereafter." compset="ClSpecial">
    <fieldval field="abValue2" value="4"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="1000"><![CDATA[
~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abSumm].text = "Hurl 5lb object for " & field[abValue].value & "d" & field[abValue2].value & " dmg when psi-focus."]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
~Set the list name
field[listname].text = field[thingname].text & " " & field[xIndex].value & "d" & field[abValue2].value

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & field[abValue].value & "d" & field[abValue2].value]]></eval>
    </thing>
  <thing id="cPsiKinAur" name="Kinetic Aura" description="At 8th level, you gain a +1 deflection bonus to AC. This bonus increases by +1 every three levels thereafter." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="10000"><![CDATA[~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)


field[abSumm].text = "Gain a +" & field[abValue].value & " deflection bonus to AC."]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

hero.child[ArmorClass].field[tACDeflect].value = field[abValue].value]]></eval>
    </thing>
  <thing id="cPsiEngRec" name="Energetic Recharge" description="At 14th level, once per day, you can expend psionic focus as an immediate action when you would take damage from cold, electricity, fire, force, or sonic damage to convert the damage into power points, at a rate of 1 power point per 5 damage. You suffer none of the converted damage, but may not gain more than your manifester level in power points. For example, if a 14th level kineticist suffers 80 points of cold damage, he may expend his psionic focus to convert up to 70 points of that damage into 14 power points. He takes the remaining 10 points of cold damage as normal." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPsiEngImm" name="Energy Immunity" description="At 20th level, when you gain psionic focus, you gain immunity to either cold, electricity, fire, force, or sonic, at your choice. You may change this immunity by gaining psionic focus again, and need not maintain psionic focus to maintain the immunity." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPsiMetHea" name="Metabolic Healing" description="At 2nd level, as long as you maintain psionic focus, you gain fast healing 1 when you manifest any psychometabolism power on yourself.  This fast healing lasts for a number of rounds equal to the level of the power manifested.   The fast healing increases by 1 for every four psion levels thereafter." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="1000"><![CDATA[      ~the bonus rounds for the creation subdiscipline 1+level/4
      var bonus as number
      bonus = 1 + ((#levelcount[Psion]-2)/4)
      bonus = round(bonus,0,-1)

      field[abSumm].text = "While psionically focused, gain fast healing/" & bonus & " when manifesting a psychometabolism power for a number of rounds equal to the power level."]]></eval>
    </thing>
  <thing id="cPsiShaEff" name="Shared Effect" description=" At 8th level, any time you manifest a psychometabolism power with a range of personal, you may pay an additional 4 power points to have it affect two additional creatures touched.   These additional power points count as an augment for the power and the manifestation is still limited by the normal manifester level cap. A power augmented in this fashion can affect an additional creature every four psion levels thereafter.   The {i}fission{\i} power may not be shared in this fashion." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="1000"><![CDATA[      ~the bonus rounds for the creation subdiscipline 1+level/4
      var bonus as number
      bonus = 2 + ((#levelcount[Psion]-8)/4)
      bonus = round(bonus,0,-1)

      field[abSumm].text = "Share a psychometabolism power with a range of personal with " & bonus & " additional touched creatures for an addition 4 power points."]]></eval>
    </thing>
  <thing id="cPsiResBod" name="Resilient Body" description="At 14th level, once per day as an immediate action, you may negate a critical hit that would have hit you, and instead receive normal damage." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cPsiInfFor" name="Infused Form" description="At 20th level, you gain DR 5/- and are treated as always under the effect of {i}adapt body{/i}." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000">#applydr[xDamRd, 5]</eval>
    </thing>
  <thing id="cPsiNomSte" name="Nomad&apos;s Step" description="At 2nd level, as long as you maintain psionic focus, as a standard action you may teleport to a location up to 15 feet away.  You must have line of sight to the location and you can bring along possessions that amount to as much as a medium load.   The distance increases by 5 feet every psion level thereafter." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="1000"><![CDATA[      ~the bonus rounds for the creation subdiscipline 1+level/4
      var bonus as number
      bonus = 15 + ((#levelcount[Psion]-2) * 5)
      bonus = round(bonus,0,-1)

      field[abSumm].text = "As a standard action, you may teleport " & bonus & " feet while maintaining psionic focus."]]></eval>
    </thing>
  <thing id="cPsiIncPos" name="Inconstant Position" description="At 8th level,  once per day as an immediate action when someone attacks you, you can force them to  suffer a 50% miss chance.  This ability can be used an additional time per day every two psion levels thereafter." compset="ClSpecial">
    <tag group="User" tag="Tracker" name="Tracker" abbrev="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day" name="/day" abbrev="/day"/>
    <eval phase="PostAttr" priority="10000">~level modifier is (level-8)/2
      var bonus as number
      bonus = (#levelcount[Psion] - 8)/2
      bonus = round(bonus,0,-1)

      ~uses per day = 1 + (Level-8)/2
      field[trkMax].value += 1 + bonus</eval>
    <eval phase="Render" priority="1000" index="2"><![CDATA[
      field[abSumm].text = "As an immediate action, cause a 50% miss chance " & field[trkMax].value & "/day."]]></eval>
    </thing>
  <thing id="cPsiAccAct" name="Accelerated Activity" description="At 14th level, once per day as a swift action, you may gain 1 extra round of actions usable in the same round." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPsiRapMov" name="Rapid Movement" description="At 20th level, you gain an additional move action each round, but it may only be used for either the move, stand up, or mount/dismount a steed move actions." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPsiMenInt" name="Mental Intrusion" description="At 2nd level, as long as you maintain psionic focus, increase the save DC of any mind-affecting power you manifest by 1 for every 2 power points you spend augmenting the power, provided the augmentation does not already increase the power&apos;s save DC.   For the purpose of this ability, you may spend additional power points augmenting a mind-affecting power&apos;s save DC even on a power that normally does not have any augment options." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPsiTelpth" name="Telepathy" description="At 8th level, you gain telepathy out to 400 ft. and can communicate with any creature, regardless of intelligence, so long as they have an Intelligence of 1 or higher.   The range of your telepathy increases by 10 ft. every psion level thereafter.\nAdditionally, as long as you maintain psionic focus, you can detect other creatures within 30 ft. using telepathy to communicate, although you cannot determine the content of the communication." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Render" priority="1000"><![CDATA[      ~the bonus rounds for the creation subdiscipline 1+level/4
      var bonus as number
      bonus = 400 + ((#levelcount[Psion]-8) * 10)
      bonus = round(bonus,0,-1)

      field[abSumm].text = "You gain telepathy out to " & bonus & " feet. While maintaining psionic focus, detect others using telepathy within 30 feet."]]></eval>
    </thing>
  <thing id="cPsiLastRe" name="Last Respite" description=" At 14th level, once per day, if you are about to suffer damage that would result in your death, as an immediate action, you can shunt your mind into the body of a creature within 30 ft., effectively granting you the benefits of mind switch  (Will save negates DC 10 + half psion level + Intelligence modifier) and your original body is left stable, but its hit point total is left one point of damage away from death.   This ability lasts a number of rounds equal to your psion level.   \nYou must secure a permanent body for your mind, either by healing your original body, through the use of a power such as  true mind switch, or some other means to permanently inhabit a body, by the end of the effect&apos;s duration or die.  This is considered a mind-affecting effect. You can take this action even if you are unconscious.  This ability cannot be used against effects that outright kill or that deal ability damage, only against effects that deal hit point damage." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="Render" priority="10000"><![CDATA[var lrDC as number
lrDC = 10 + #levelcount[Psion]/2 + #attrmod[aINT]

field[abSumm].text = "Last Respite {i}Mind Switch{/i} save DC " & lrDC & " vs Will."]]></eval>
    </thing>
  <thing id="cPsiGrdTho" name="Guarded Thoughts" description="At 20th level, you gain increased protection from mind-affecting effects, granting you a +10 bonus on saves against mind-affecting effects." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHelpSkn" name="Soulknife" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Skn"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Blade Skill"/>
    <fieldval field="cSpecName" value="Blade Skills"/>
    <arrayval field="cBonFtTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="1" value="1"/>
    <arrayval field="cCustTot" index="3" value="2"/>
    <arrayval field="cCustTot" index="5" value="3"/>
    <arrayval field="cCustTot" index="7" value="4"/>
    <arrayval field="cCustTot" index="9" value="5"/>
    <arrayval field="cCustTot" index="11" value="6"/>
    <arrayval field="cCustTot" index="13" value="7"/>
    <arrayval field="cCustTot" index="15" value="8"/>
    <arrayval field="cCustTot" index="17" value="9"/>
    <arrayval field="cCustTot" index="19" value="10"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="cRef" tag="Good"/>
    <tag group="fInclude" tag="fPowerAtt"/>
    <tag group="fInclude" tag="fTwoWep"/>
    <tag group="fInclude" tag="fWepFocMB"/>
    <tag group="Classes" tag="Soulknife" name="Soulknife"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="AgeColumn" tag="1"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="Craft"/>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cSknMBMas">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cSknQuiDra">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="fSknMndBld"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="cSknMindBl">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknWldTal">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknShaMB">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknThrMB">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="cSoulknife" name="Soulknife" description="Never caught unarmed, the soulknife is the literal interpretation of using the power of the mind as a weapon. Creating a mind blade is the core of the soulknife, and with it, he is a deadly combatant.{br}{br}Versatile and varied, the soulknife can be found in all shapes and sizes, wielding blades unique to the wielder and customized to fit the needs of the soulknife. Fluid in function, the soulknife has mastered how to alter her mind blade to fit the situation, bringing power and versatility into any combat.{br}{br}{b}Role:{/b} As a wielder of a weapon first and foremost, the soulknife excels as a front-line combatant on the battlefield. Her limited armor options and defensive abilities can be a hindrance, but her varied blade abilities can make her an excellent mobile warrior or battlefield controller.{br}{br}{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpSkn"></bootstrap>
    <link linkage="helper" thing="cHelpSkn"/>
    </thing>
  <thing id="cSknMindBl" name="Form Mind Blade" description="As a move action, a soulknife can form a semi-solid weapon composed of psychic energy distilled from his own mind. A soulknife must choose the form of his mind blade at 1st level. He can either form it into a light weapon, a one-handed weapon, or a two-handed weapon. Once chosen, his mind blade stays in this form every time the soulknife forms his mind blade. The light weapon deals 1d6 points of damage, the one-handed weapon deals 1d8 points of damage, and the two-handed weapon deals 2d6 points of damage. All damages are based on a Mediumsized creature wielding Medium-sized weapons; adjust the weapon damage as appropriate for different sized weapons. In all forms, the mind blade has a critical range of 19-20/x2. A soulknife with powerful build or any similar ability forms an appropriately-sized mind blade dealing the size-appropriate amount of damage.\n\nIf the soulknife&apos;s chosen form is a light weapon, he may choose to form two light weapons when forming his mind blade if he so chooses, but he suffers the standard penalties for two-weapon fighting.\n\nRegardless of the weapon form a soulknife has chosen, his mind blade does not have a set damage type. When shaping his weapon and assigning abilities to it, the soulknife chooses whether it will deal bludgeoning, piercing, or slashing damage. The soulknife may change the damage type of an existing mind blade, or may summon a new mind blade with a different damage type, as a full-round action; otherwise, the mind blade retains the last damage type chosen every time it is summoned.\n\nThe blade can be broken (it has hardness 10 and 10 hit points); however, a soulknife can simply create another on his next move action. The moment he relinquishes his grip on his blade, it dissipates (unless he intends to throw it; see below). A mind blade is considered a magic weapon for the purpose of overcoming damage reduction and is considered a masterwork weapon.\n\nA soulknife can use feats such as Power Attack or Combat Expertise in conjunction with the mind blade just as if it were a normal weapon. He can also choose his mind blade for feats requiring a specific weapon choice, such as Weapon Focus and Improved Critical. Powers or spells that upgrade weapons can be used on a mind blade. The soulknife can use feats such as Weapon Finesse that work on light weapons with his mind blade, but such feats only work on mind blades in a light weapon form." compset="ClSpecial">
    <fieldval field="usrCandid1" value="component.BaseWep &amp; MindBlade.Weapon"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <bootstrap thing="iPUMndBl1H">
      <containerreq phase="First" priority="99">hero#MindBlade.OneHanded</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBl2H">
      <containerreq phase="First" priority="99">hero#MindBlade.TwoHanded</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBlLT">
      <containerreq phase="First" priority="99">hero#MindBlade.Light</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBlLT">
      <containerreq phase="First" priority="99">hero#MindBlade.Light</containerreq>
      </bootstrap>
    <eval phase="First" priority="50" name="Add Mind Blade Tags"><![CDATA[
      ~ If nothing chosen get out now!
      doneif (field[usrChosen1].ischosen <> 1)

      perform field[usrChosen1].chosen.pulltags[MindBlade.?]
      perform hero.pushtags[MindBlade.?]]]></eval>
    </thing>
  <thing id="cSknWldTal" name="Wild Talent" description="The soulknife gains Wild Talent as a bonus feat at 1st level. This provides her with the psionic power necessary to manifest her mind blade. A character who is already psionic instead gains the Psionic Talent feat." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="499">Hero.Psionic</containerreq>
      </bootstrap>
    <bootstrap thing="fPUWildTal">
      <containerreq phase="First" priority="499">!Hero.Psionic</containerreq>
      </bootstrap>
    </thing>
  <thing id="cSknShaMB" name="Shape Mind Blade" description="The soulknife&apos;s mind blade retains the last chosen form every time it is formed until the soulknife reshapes it. If the soulknife chooses to reshape his blade, it requires a full-round action to do so. She may also re-assign the type of damage dealt as part of reshaping his mind blade if he so chooses.{br}{br}A soulknife can reassign the ability or abilities he has added to his mind blade; see below. To do so, he must first spend 8 hours in concentration. These cannot be the normal 8 hours used for rest, even if the soulknife does not require sleep. After that period, the mind blade materializes with the new ability or abilities selected by the soulknife." compset="ClSpecial"></thing>
  <thing id="cSknThrMB" name="Throw Mind Blade" description="All soulknives have some knowledge of how to throw their mind blades, though the range increment varies by form and the largest of blade forms cannot be thrown. Light weapon mind blades have a range increment of 20 ft. One-handed weapon mind blades have a range increment of 15 ft. Two-handed weapon mind blades cannot be thrown without the Two-Handed Throw blade skill. Whether or not the attack hits, a thrown mind blade then dissipates." compset="ClSpecial" summary="Light 20ft, 1H 15ft, and 2H can&apos;t be thrown.">
    <eval phase="PreLevel" priority="10000"><![CDATA[
~we're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
doneif (root.field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])
~ If we've been Disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

~ If Light mindblade live set throw distance
If (hero.childlives[iPUMndBlLT] <> 0) Then
  ~ Find all Light Mindblade weapons
  foreach pick in hero from BaseWep where "MindBlade.Light"
    ~ Give light mindblade 20ft throw range
    perform eachpick.assign[wRangeInc.20]
    perform eachpick.assign[wCategory.RangeThrow]
  nexteach
Endif
~ If One-handed mindblade live set throw distance
If (hero.childlives[iPUMndBl1H] <> 0) Then
  ~ Give 1-Handed mindblade 15ft throw range
  perform hero.childfound[iPUMndBl1H].assign[wRangeInc.15]
  perform hero.childfound[iPUMndBl1H].assign[wCategory.RangeThrow]
Endif]]></eval>
    </thing>
  <thing id="cSknPsyStr" name="Psychic Strike" description="As a move action, a soulknife of 3rd level or higher can imbue his mind blade with destructive psychic energy. This effect deals an extra 1d8 points of damage on any attack he wishes to activate it on (as long as the attack is made with his mind blade). A soulknife may hold the charge as long as he likes without discharging. It does not go off on any attack unless he chooses to use it, and the charge is not wasted if an attack misses. Mindless creatures are immune to this damage, although non-mindless creatures immune to mind-affecting effects are affected by this damage as normal. (Unlike the rogue&apos;s sneak attack, the psychic strike is not precision damage and can affect creatures otherwise immune to extra damage from critical hits or more than 30 feet away.)\n\nA mind blade deals this extra damage only once when this ability is called upon, but a soulknife can imbue his mind blade with psychic energy again by taking another move action. Additionally, he may recharge it as a swift action by expending his psionic focus.{br}{br}Once a soulknife has prepared his blade for a psychic strike, it holds the extra energy until it is used (whether the attack is successful or not). Even if the soulknife drops the mind blade (or it otherwise dissipates, such as when it is thrown), it is still imbued with psychic energy when the soulknife next materializes it.{br}{br}If the soulknife forms his mind blade into two weapons, he may imbue each mind blade with psychic strike as normal. If he reshapes his mind blade into a single weapon form, the additional psychic strike imbued into the additional weapon is lost.{br}{br}At every four levels thereafter (7th, 11th, etc), the extra damage from a soulknife&apos;s psychic strike increases by 1d8." compset="ClSpecial" summary="Add destructive psychic energy to your mindblade.">
    <fieldval field="abValue2" value="8"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value) & "d" & field[abValue2].value

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value) & "d" & field[abValue2].value
field[abSumm].text = signed(field[abValue].value) & "d" & field[abValue2].value & " to your mind blade damage."]]></eval>
    <eval phase="PostLevel" priority="20000"><![CDATA[
~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)
~ If not active then get out now
doneif (field[abilActive].value <> 1)

~ Find all Mindblade weapons and add extra damage
foreach pick in hero from BaseWep where "MindBlade.Weapon"
  ~ Set the extra damage onto our mind blade weapon
  #extradamage[eachpick,signed(field[abValue].value) & "d" & field[abValue2].value & " psy",field[name].text]
nexteach]]></eval>
    </thing>
  <thing id="cSknBSAltB" name="Alter Blade" description="The soulknife gains the ability to shape her mind blade into different weapon forms. She may change her blade&apos;s form to the light weapon, one-handed weapon, or two-handed weapon forms any time she forms her mind blade. Additionally, the soulknife may choose to form her mind blade into a one-handed weapon and a light weapon instead of two light weapons." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <eval phase="First" priority="498"><![CDATA[if (hero.child[cSknMindBl].field[usrChosen1].ischosen <> 0) then
  if (hero.child[cSknMindBl].field[usrChosen1].chosen.tagis[thingid.wMndBldLt] <> 0) then
    perform hero.assign[MindBlade.OneHanded]
    perform hero.assign[MindBlade.TwoHanded]
  elseif (hero.child[cSknMindBl].field[usrChosen1].chosen.tagis[thingid.wMndBld1H] <> 0) then
    perform hero.assign[MindBlade.Light]
    perform hero.assign[MindBlade.TwoHanded]
  elseif (hero.child[cSknMindBl].field[usrChosen1].chosen.tagis[thingid.iPUMndBl2H] <> 0) then
    perform hero.assign[MindBlade.Light]
    perform hero.assign[MindBlade.OneHanded]
    endif
  endif]]></eval>
    </thing>
  <thing id="cSknBSBlds" name="Bladestorm" description="As a full attack, when wielding her mind blade, the soulknife can give up her regular attacks and instead throw one mind blade at her full attack bonus at all opponents within 30 feet, ignoring the normal range increments for throwing a mind blade. Regardless of the number of attacks she makes, she only provokes attacks of opportunity as though she made a single ranged attack. The soulknife must possess the Bladewind blade skill to take this ability, this ability may not be used if the mind blade is in a two-handed weapon form, and the soulknife must be at least 16th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 16+ required"><![CDATA[#levelcount[Soulknife] >= 16]]></exprreq>
    </thing>
  <thing id="cSknBSBldw" name="Bladewind" description="The soulknife gains the ability to momentarily fragment her mind blade into numerous identical blades, each of which strikes at a nearby opponent.\n\nAs a full attack, when wielding her mind blade, a soulknife can give up her regular attacks and instead fragment her mind blade to make one melee attack at her full base attack bonus against each opponent within reach. Each fragment functions identically to the soulknife&apos;s regular mind blade.\n\nWhen using bladewind, the soulknife can choose to expend her psychic strike if an attack miss to reroll that attack, but none of the bladewind attacks deal any extra damage from psychic strike.\n\nWhen using bladewind, a soulknife forfeits any bonus or extra attacks granted by other feats or abilities (such as Cleave or haste). The mind blade immediately reverts to its previous form after the bladewind attack. A soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 8+ required"><![CDATA[#levelcount[Soulknife] >= 8]]></exprreq>
    </thing>
  <thing id="cSknBSCbtS" name="Combat Slide" description="Upon successfully striking an enemy in melee, the soulknife may immediately make a 5-foot step (even if she&apos;s already moved in the round, but not if she&apos;s taken a 5-foot step). In addition, when someone misses the soulknife with a melee attack, she may spend an immediate action to take a 5-foot step." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSDead" name="Deadly Blow" description="The soulknife&apos;s mind blade critical multiplier increases by 1. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
var nCrit as number
var sCrit as string

~ Loop through all the mindblade weapons
foreach pick in hero from BaseWep where "MindBlade.Weapon"
   ~ Get the current crit value
   nCrit = eachpick.tagvalue[wCritMin.?]
   ~ Remove all current crit tags 
   perform eachpick.delete[wCritMin.?]
   ~ Calc new crit as a string
   sCrit = decimals(nCrit-1,0)
   ~ set the new tag on the hero
   perform eachpick.assignstr["wCritMin." & sCrit]     
nexteach]]></eval>
    <exprreq message="Soulknife Level 10+ required"><![CDATA[#levelcount[Soulknife] >= 10]]></exprreq>
    </thing>
  <thing id="cSknBSDua" name="Dual Imbue" description="When utilizing multiple mind blades, the soulknife may charge both blades with her psychic strike ability at the same time (including when expending her focus to charge her psychic strike). However, her psychic strike damage is reduced by 1d8 when using this option. Damage remains normal when each weapon is charged separately." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSEnR" name="Enhanced Range" description="The soulknife&apos;s range increment when throwing her mind blade in any form doubles." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSExC" name="Exploding Critical" description="When a soulknife confirms a critical hit, she can expend her psionic focus to deal her psychic strike damage, even if her mind blade was not charged with psychic strike, and even if she already dealt psychic strike on the attack. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 12+ required"><![CDATA[#levelcount[Soulknife] >= 12]]></exprreq>
    </thing>
  <thing id="cSknBSExS" name="Extended Strike" description="A soulknife may, as a\nstandard action, make a single attack as if her reach was 5&apos; longer. This blade skill may be combined with the twin strike blade skill. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 12+ required"><![CDATA[#levelcount[Soulknife] >= 12]]></exprreq>
    </thing>
  <thing id="cSknBSFluF" name="Fluid Form" description="The soulknife may expend her psychic strike as a swift action, but deal no psychic strike damage, to make a minor modification to her mind blade. She may remove up to one weapon special ability (if any) from her mind blade&apos;s configuration, and add the ability&apos;s value to the mind blade&apos;s enhancement bonus. She may also add up to one weapon special ability to her mind blade&apos;s configuration, and subtract the ability&apos;s value from the mind blade&apos;s enhancement bonus. Once she had made either or both of these changes, the mind blade suffers a -1 penalty to its enhancement bonus; this penalty is cumulative with each time this blade skill is used, and lasts until the soulknife rests for 8 hours or spends 8 hours in concentration to reconfigure her mind blade. This blade skill may not be used if this would reduce the mind blade&apos;s enhancement bonus below +1, or if the final enhancement bonus would be above the soulknife&apos;s maximum." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSFlFI" name="Fluid Form, Improved" description="When the soulknife uses the Fluid Form blade skill, she may change all of her mind blade&apos;s weapon special abilities simultaneously. The mind blade still suffers a cumulative -1 penalty to its enhancement bonus when the Fluid Form blade skill is used. A soulknife must have the Fluid Form blade skill to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Fluid Form Blade Skill required."><![CDATA[#hasability[cSknBSFluF] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSFull" name="Full Enhancement" description="When forming her mind blade into multiple items, the soulknife suffers no reduction in enhancement bonus." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSFurC" name="Furious Charge" description="A soulknife with this ability deals an additional 2 points of damage on every attack made at the end of a charge. The increased damage is only 1 per attack for off-hand attacks, but becomes 3 per attack when using the two-handed form of the mind blade." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSFuCI" name="Furious Charge, Improved" description="A soulknife with this ability can expend her psychic strike while making a charge to make an additional attack with her main hand, albeit at a -5 penalty on the attack roll, at the end of a charge action. If the soulknife is wielding two mind blades and has the Twin Strike blade skill, she may instead make an additional attack with each mind blade, but each of these additional attacks suffers a -5 penalty on the attack roll in addition to the penalties for attacking with two weapons. The soulknife does not apply the expended psychic strike&apos;s damage to her attacks. The soulknife may only gain the benefit of this blade skill once on any charge. The soulknife must have the Furious Charge blade skill and be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 8+ required"><![CDATA[#levelcount[Soulknife] >= 8]]></exprreq>
    <exprreq message="Furious Charge Blade Skill required."><![CDATA[#hasability[cSknBSFurC] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSGruR" name="Gruesome Riposte" description="The soulknife may expend her psionic focus as an immediate action to attack an enemy who has successfully struck her in melee. This attack is assumed to happen after the successful attack, so she cannot use this ability if the attack would put her below 0 hit points, nor does dropping her enemy below 0 hit points prevent the attack from hitting. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 10+ required"><![CDATA[#levelcount[Soulknife] >= 10]]></exprreq>
    </thing>
  <thing id="cSknBSImpE" name="Improved Enhancement" description="The soulknife&apos;s enhancement bonus on her mind blade increases by 1. This increase may be used to increase the actual enhancement bonus of the mind blade (to a maximum of +5) or be spent on weapon special abilities, as normal. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 12+ required"><![CDATA[#levelcount[Soulknife] >= 12]]></exprreq>
    </thing>
  <thing id="cSknBSKniS" name="Knife to the Soul" description="The soulknife gains the knife to the soul ability. When a soulknife with knife to the soul executes a psychic strike, she can choose to substitute Intelligence, Wisdom, or Charisma damage (her choice) for extra dice of damage. For each die of extra damage she gives up, she deals 1 point of damage to the ability score she chooses. A soulknife can combine extra dice of damage and ability damage in any combination, so long as no more than half of the soulknife&apos;s extra dice of damage are converted to ability damage. Knife to the soul may only be used once per round.\n\nUnlike the base psychic strike ability, knife to the soul is entirely reliant on the creature&apos;s mind, and cannot be used on creatures immune to mind-affecting abilities. The soulknife decides which ability score her psychic strike damages and the division of ability damage and extra dice of damage when she imbues her mind blade with the psychic strike energy. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 12+ required"><![CDATA[#levelcount[Soulknife] >= 12]]></exprreq>
    </thing>
  <thing id="cSknBSMDag" name="Mind Daggers" description="The soulknife may form one or a pair of mind daggers in place of her normal forms. Mind daggers have a range increment of 30 ft when thrown, deal 1d4 points of damage (type assigned in the same manner as other forms) and have a critical range of 19-20/x2. She may switch between mind daggers and her chosen blade form at will as a free action, including in the middle of full attacks, and it can be done more than once per round (this is an exception to the full-round action normally required to shape a mind blade). She cannot switch between the daggers and the two-handed mind blade form unless only forming a single dagger. Mind daggers have the same enhancement configuration as the soulknife&apos;s current mind blade configuration." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSMShl" name="Mind Shield" description="The soulknife gains a +2 shield bonus to armor class, as long as her mind blade is not in a twohanded form." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <eval phase="PostAttr" priority="1000"><![CDATA[doneif (hero.child[cSknMindBl].field[usrChosen1].ischosen = 0)

~if (hero.childexists[wMndBld2H] = 0) then
if (hero.childlives[wMndBld2H] <> 0) then
  if (hero.child[wMndBld2H].field[gIsEquip].value = 0) then
    ~ Apply our AC bonus to all our armor scores
    #applybonus[tACShield, hero.child[ArmorClass], 2]
    endif
else
  ~ Apply our AC bonus to all our armor scores
    #applybonus[tACShield, hero.child[ArmorClass], 2]
  endif]]></eval>
    </thing>
  <thing id="cSknBSMulT" name="Multiple Throw" description="The soulknife can throw a number of mind blades per round equal to the number of melee attacks she could make. A soulknife must be at least 14th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 14+ required"><![CDATA[#levelcount[Soulknife] >= 14]]></exprreq>
    </thing>
  <thing id="cSknBSPowS" name="Powerful Strike" description="The soulknife&apos;s psychic strike deals an additional 1d8 damage." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <eval phase="Final" priority="9999">hero.child[cSknPsyStr].field[abValue].value += 1</eval>
    </thing>
  <thing id="cSknBSReaB" name="Reaching Blade" description="The soulknife may expend her focus to increase her reach with her mind blade by 5 feet until the start of her next turn. Unlike normal reach weapons, a soulknife may also attack adjacent opponents with her mind blade. A soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 8+ required"><![CDATA[#levelcount[Soulknife] >= 8]]></exprreq>
    </thing>
  <thing id="cSknBSReap" name="Reaper&apos;s Blade" description="A soulknife with this ability automatically recharges her psychic strike ability if she reduces an enemy&apos;s hit points to below 0 with a melee attack using her mind blade. If her blade was already charged, her next psychic strike deals 1.5 times the damage rolled. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 10+ required"><![CDATA[#levelcount[Soulknife] >= 10]]></exprreq>
    </thing>
  <thing id="cSknBSRend" name="Rending Blades" description="Hooks extend from the soulknife&apos;s mind blade, dealing an additional 1d6 bleed damage on a critical hit, and giving a competence bonus on Climb checks equal to the enhancement bonus of the mind blade." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSTop" name="Toppling Strike" description="If the soulknife&apos;s mind blade has the Trip special feature, she may use it to make a single attack at her full base attack bonus as a standard action. If the attack hits, it deals damage normally and the soulknife can make a free trip attack (using her full base attack bonus) against the same foe. She does not provoke an attack of opportunity for this trip attempt. A soulknife must have the Weapon Special blade skill before selecting this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Weapon Special Blade Skill required."><![CDATA[#hasability[cSknBSWepS] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSTopI" name="Toppling Strike, Improved" description="If the soulknife&apos;s mind blade has the Trip special feature, she may use it to make a single attack at her full base attack bonus as a standard action. If the attack hits, it deals damage normally and the soulknife can make a free trip attack (using her full base attack bonus) against the same foe. If she successfully trips that foe, she may make an additional trip attack (using her full base attack bonus) against another foe within reach and adjacent to the first foe. As long as she successfully trips her foe, she may continue to make trip attempts against foes adjacent to the previous foe, so long as they are within her reach. She does not provoke attacks of opportunity for these trip attempts. A soulknife must have the Toppling Strike and Weapon Special blade skills before selecting this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Toppling Strike Blade Skill required."><![CDATA[#hasability[cSknBSTop] <> 0]]></exprreq>
    <exprreq message="Weapon Special Blade Skill required."><![CDATA[#hasability[cSknBSWepS] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSTrad" name="Trade Blows" description="When the soulknife uses the total defense action, she may make a melee attack at her normal attack bonus on anyone that makes a melee attack against her, regardless of whether the opponent&apos;s attack hits. This attack is resolved immediately after the opponent&apos;s attack. The soulknife may make one such attack for each attack made against her. If multiple opponents attack the soulknife, each attack she makes must be against the enemy that triggered it. All such attacks are made with a -4 penalty on the attack roll, and are an exception to the rule that you cannot attack during the total defense action. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 10+ required"><![CDATA[#levelcount[Soulknife] >= 10]]></exprreq>
    </thing>
  <thing id="cSknBSTwin" name="Twin Strike" description="When making a single standard attack and wielding two mind blades, the soulknife may attack with both of her mind blades at the normal penalties for two-weapon fighting. She may also utilize this ability when making attacks of opportunity, but not for any other special attacks, unless specifically stated otherwise. The soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <exprreq message="Soulknife Level 8+ required"><![CDATA[#levelcount[Soulknife] >= 8]]></exprreq>
    </thing>
  <thing id="cSknBS2HTr" name="Two-Handed Throw" description="The soulknife gains the ability to throw her mind blade if it is in two-handed form, with a range increment of 10 ft." compset="CustomSpec" summary="2H mindblade has 10ft range increment." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[
~ If 2H mindblade not live get out now!
doneif (hero.childlives[iPUMndBl2H] <> 1)

~ Give two-handed mindblade 10ft throw range
perform hero.childfound[iPUMndBl2H].assign[wRangeInc.10]
perform hero.childfound[iPUMndBl2H].assign[wCategory.RangeThrow]]]></eval>
    </thing>
  <thing id="cSknBSWepS" name="Weapon Special" description="The soulknife may assign one of the following specials to her mind blade when she shapes her mind blade: brace, trip, or disarm. She may change the assigned ability by reshaping her mind blade. This blade skill may be taken more than once, allowing the soulknife to assign multiple abilities at once." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSWing" name="Wing Clip" description="As a standard action, the soulknife may make a single melee attack against a single creature. If she hits, instead of dealing damage, the vibrations in her mind blade damages the creature&apos;s ability to move, rendering it unable to move for a number of rounds equal to the soulknife&apos;s Strength modifier (minimum 1). A successful Fortitude save negates the effect. The DC of this save is 10 + the soulknife&apos;s base attack bonus." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknEnhMB" name="Enhanced Mind Blade" description="A soulknife&apos;s mind blade improves as the character gains higher levels. At 3rd level and every odd level thereafter, the mind blade gains a cumulative +1 enhancement bonus that he may spend on an actual enhancement bonus or on weapon special abilities. A soulknife&apos;s level determines his maximum enhancement bonus (see Table 2-8: The Soulknife). The soulknife may (and must, when his total enhancement is higher than his maximum bonus) apply any special ability from the table below instead of an enhancement bonus, as long as he meets the level requirements. A soulknife can choose any combination of weapon special abilities and/or enhancement bonus that does not exceed the total allowed by the soulknife&apos;s level, but he must assign at least a +1 enhancement bonus before assigning any special abilities.\n\nIf the soulknife shapes his mind blade into two items, the enhancement bonus of his mind blade (if any) is reduced by 1 (to a minimum of 0). If this would reduce the enhancement bonus on the mind blades to 0 and weapon special abilities are applied, the soulknife must reshape his mind blade to make the options valid. Both mind blades have the same selection of enhancement bonus and weapon special abilities (if any). This penalty does not apply when using the Mind Shield blade skill.\n\n{b}Note:{/b} To ehance your mind blade go to the {b}Weapons{/b} tab and click on the &quot;Wrench/Hammer&quot; icon.  Then you can make it a +1 mindblade or a +1 Flaming mindblade.  Currently the scripts will not error check if you increase the bonus past what you should be allowed or take a invalid item power.  This will come in a future update." compset="ClSpecial" summary="You can enhance your mind blade with extra power.">
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[
      field[abValue].value += field[xCount].value
      field[livename].text = "Enhanced Mind Blade +" & field[abValue].value
      field[abSumm].text = "You can enhance your Mind Blade with a total enhancement bonus of +" & field[abValue].value & "."
      field[listname].text = "Enhanced Mind Blade +" & field[xIndex].value]]></eval>
    </thing>
  <thing id="cSknMBMas" name="Mind Blade Mastery" description="At 20th level, a soulknife reaches the pinnacle of her art and her connection to her blade is so strong it cannot be severed. She no longer requires a Will save to maintain her mind blade in a null psionics field, although it still loses any enhancement bonus and special abilities. In addition, she may change the configurations of her mind blade&apos;s special abilities at will as a fullround action, which also resets any penalties that may have accrued from the Fluid Form and Improved Fluid Form blade skills." compset="ClSpecial">
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cSknQuiDra" name="Quick Draw" description="A 5th level soulknife may manifest her mind blade as a free action, though she may still only attempt to do so once per round (unless throwing the weapon multiple times using the Multiple Throw blade skill)." compset="ClSpecial" summary="You can manifest your Mind Blade as a free action.">
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHelpWld" name="Wilder" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Wld"/>
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Surge Type"/>
    <fieldval field="cPsiSPowNm" value="Talent"/>
    <fieldval field="cPsiSPowMa" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="3"/>
    <arrayval field="cPsiLevTot" index="6" value="3"/>
    <arrayval field="cPsiLevTot" index="7" value="4"/>
    <arrayval field="cPsiLevTot" index="8" value="4"/>
    <arrayval field="cPsiLevTot" index="9" value="5"/>
    <arrayval field="cPsiLevTot" index="10" value="5"/>
    <arrayval field="cPsiLevTot" index="11" value="6"/>
    <arrayval field="cPsiLevTot" index="12" value="6"/>
    <arrayval field="cPsiLevTot" index="13" value="7"/>
    <arrayval field="cPsiLevTot" index="14" value="7"/>
    <arrayval field="cPsiLevTot" index="15" value="8"/>
    <arrayval field="cPsiLevTot" index="16" value="8"/>
    <arrayval field="cPsiLevTot" index="17" value="9"/>
    <arrayval field="cPsiLevTot" index="18" value="9"/>
    <arrayval field="cPsiLevTot" index="19" value="9"/>
    <arrayval field="cPsiPPTot" index="0" value="2"/>
    <arrayval field="cPsiPPTot" index="1" value="6"/>
    <arrayval field="cPsiPPTot" index="2" value="11"/>
    <arrayval field="cPsiPPTot" index="3" value="17"/>
    <arrayval field="cPsiPPTot" index="4" value="25"/>
    <arrayval field="cPsiPPTot" index="5" value="35"/>
    <arrayval field="cPsiPPTot" index="6" value="46"/>
    <arrayval field="cPsiPPTot" index="7" value="58"/>
    <arrayval field="cPsiPPTot" index="8" value="72"/>
    <arrayval field="cPsiPPTot" index="9" value="88"/>
    <arrayval field="cPsiPPTot" index="10" value="106"/>
    <arrayval field="cPsiPPTot" index="11" value="126"/>
    <arrayval field="cPsiPPTot" index="12" value="147"/>
    <arrayval field="cPsiPPTot" index="13" value="170"/>
    <arrayval field="cPsiPPTot" index="14" value="195"/>
    <arrayval field="cPsiPPTot" index="15" value="221"/>
    <arrayval field="cPsiPPTot" index="16" value="250"/>
    <arrayval field="cPsiPPTot" index="17" value="280"/>
    <arrayval field="cPsiPPTot" index="18" value="311"/>
    <arrayval field="cPsiPPTot" index="19" value="343"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="2"/>
    <arrayval field="cPsiPowTot" index="3" value="3"/>
    <arrayval field="cPsiPowTot" index="4" value="3"/>
    <arrayval field="cPsiPowTot" index="5" value="4"/>
    <arrayval field="cPsiPowTot" index="6" value="4"/>
    <arrayval field="cPsiPowTot" index="7" value="5"/>
    <arrayval field="cPsiPowTot" index="8" value="5"/>
    <arrayval field="cPsiPowTot" index="9" value="6"/>
    <arrayval field="cPsiPowTot" index="10" value="6"/>
    <arrayval field="cPsiPowTot" index="11" value="7"/>
    <arrayval field="cPsiPowTot" index="12" value="7"/>
    <arrayval field="cPsiPowTot" index="13" value="8"/>
    <arrayval field="cPsiPowTot" index="14" value="8"/>
    <arrayval field="cPsiPowTot" index="15" value="9"/>
    <arrayval field="cPsiPowTot" index="16" value="9"/>
    <arrayval field="cPsiPowTot" index="17" value="10"/>
    <arrayval field="cPsiPowTot" index="18" value="10"/>
    <arrayval field="cPsiPowTot" index="19" value="11"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="AgeColumn" tag="1"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="Profession" name="All Profession Skills" abbrev="All Profession Skills"/>
    <tag group="ClassSkill" tag="skPUAhypno" name="Autohypnosis" abbrev="Autohypnosis"/>
    <tag group="ClassSkill" tag="skSpellcr" name="Spellcraft" abbrev="Spellcraft"/>
    <tag group="Classes" tag="Wilder" name="Wilder" abbrev="Wizard"/>
    <tag group="cFort" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="cWill" tag="Good" name="Fast" abbrev="Fast"/>
    <tag group="cRef" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <bootstrap thing="cWldSurBla">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cWldSurEup">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cWldSurEup">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cWldSurEup">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cWldPsyEne">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldSurBnd">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cWldPerSur">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <link linkage="psiattr" thing="aCHA"/>
    </thing>
  <thing id="cWilder" name="Wilder" description="Unlike the psion, who studies his psionic ability and potential to unlock its secrets, or the psychic warrior, who uses his psionic ability to enhance his physical form, the wilder taps into her emotions to unlock and unleash her innate psionic power. By channeling her emotions in such a fashion, the wilder greatly enhances her psionic powers, but runs the risk of suffering backlash, as emotions are unstable.\n\n{b}Role{/b}: The wilder traditionally fills the role of dealing large amounts of damage, while running the risk of suffering backlash. Depending on the path a wilder chooses, she can also give her nearby allies a boost in efficiency.\n\n{b}Alignment{/b}: Any" compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpWld"></bootstrap>
    <link linkage="helper" thing="cHelpWld"/>
    </thing>
  <thing id="cWldWildSu" name="Wild Surge" description="A wilder can let her passion and emotion rise to the surface in a wild surge when she manifests a power. During a wild surge, a wilder gains phenomenal psionic strength, but may harm herself by the reckless use of her power (see Psychic Enervation, below).{br}{br}A wilder can choose to invoke a wild surge whenever she manifests a power. When she does so, she gains +1 to her manifester level with that manifestation of the power. The manifester level boost gives her the ability to augment her powers to a higher degree than she otherwise could; however, she pays no extra power point for this wild surge. Instead, the additional 1 power point that would normally be required to augment the power is effectively supplied by the wild surge.{br}{br}Level-dependent power effects are also improved, depending on the power a wilder manifests with her wild surge.{br}{br}This improvement in manifester level does not grant her any other benefits outside of the manifestation (she gains no higher-level class abilities, for instance).{br}{br}She cannot use the Overchannel psionic feat and invoke her wild surge at the same time.{br}{br}At 3rd level, a wilder boosts her manifester level by two instead of one. At 7th level, she boosts her manifester level by three; at 11th level, by four; at 15th level, by five; and at 19th level, by six. The wilder always wild surges for the maximum amount possible, for unleashing emotions in the fashion of a wild surge does not lend itself to using finesse." compset="ClSpecial" summary="You can gain a boost to your psychic power.">
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)]]></eval>
    </thing>
  <thing id="cWldArtSur" name="Artificer&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} The artificer wilder learns to channel her emotions into psionic items, allowing her to increase the power of items as well as her own powers. The artificer wilder may wild surge while manifesting a power from a power completion or power trigger item and treat the power being manifested as if it was augmented by her wild surge. The wilder must be capable of activating the item normally to apply her wild surge to the item. The item surged must make a Fortitude save (DC 10 + the wild surge bonus added) or lose one charge if a charged item, lose an additional daily use if an item restricted by daily uses, or its psionic power is suppressed for 24 hours if it is not restricted by charged or daily uses, and the artificer wilder suffers a 30% chance of psychic enervation. This method of wild surging functions in all other ways identically to a standard wild surge. An artificer wilder overcome by psychic enervation is dazed until the end of her next turn and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost).{br}{br}{b}Surge Bond:{/b} You gain one Item Creation feat as a bonus feat. You must still meet the prerequisites of the feat.{br}{br}{b}Improved Surge Bond:{/b} At 5th level, the artificer wilder gain one Item Creation feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc). She must still meet the prerequisites of the feat." compset="CustomSpec" summary="Gain Item Creation bonus feats. You must still meet the prerequisites of the feats." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeArti" name="Surge - Artificer&apos;s"/>
    <eval phase="First" priority="10000"><![CDATA[
~ Set type of Bonus Feats allowed
perform linkage[table].assign[fCategory.ItemCreate]

~ Set the bonus levels
linkage[table].field[cBonFtTot].arrayvalue[0] = 1
linkage[table].field[cBonFtTot].arrayvalue[4] = 2
linkage[table].field[cBonFtTot].arrayvalue[8] = 3
linkage[table].field[cBonFtTot].arrayvalue[12] = 4
linkage[table].field[cBonFtTot].arrayvalue[16] = 5

~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "You gain one Item Creation feat as a bonus feat. You must still meet the prerequisites of the feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "At 5th level, the artificer wilder gain one Item Creation feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc). She must still meet the prerequisites of the feat."]]]></eval>
    </thing>
  <thing id="cWldFreSur" name="Free Surge" description="{b}Wild Surge and Psychic Enervation{/b}: The free wilder rides every emotion, taking them to heights unbelievable by others and finding her power in the moment of each encounter. Regardless of the emotion, embracing them to such a degree can sometimes be draining and cause her to be lost inside the experience. A free wilder overcome by psychic enervation is dazed until the end of her next turn and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost).\n\n{b}Surge Bond{/b}: The free wilder gains the Psionic Talent feat as a bonus feat.\n\n{b}Improved Surge Bond{/b}: At 5th level, the free wilder gains the Volatile Mind ability." compset="CustomSpec" summary="Your surge is ruled by power of all emotions." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <bootstrap thing="cWldVolMnd">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="10000"><![CDATA[
~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The free wilder gains the Psionic Talent* feat as a bonus feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "At 5th level, the free wilder gains the Volatile Mind ability."]]]></eval>
    </thing>
  <thing id="cWldLeaSur" name="Leader&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} For the leader wilder, the rush of emotions is at its highest when amongst allies and friends. From their camaraderie, she draws renewed strength and in combat, their danger drives her emotions to almost paralyzing heights, sometimes spilling over into her aura. A leader wilder overcome by psychic enervation is shaken for a number of rounds equal to the level of wild surge used and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost), and each ally inside her aura (see Bond Benefit, below) must make a Will save (DC 10 + &#189; wilder level + wilder&apos;s Charisma modifier) or be shaken until the end of their next turn. If the leader wilder suffers psychic enervation again while still suffering from a previous psychic enervation, the penalties do not stack, but the duration resets.{br}{br}{b}Surge Bond:{/b} The leader wilder gains the Surging Aura* feat as a bonus feat.{br}{br}{b}Improved Surge Bond:{/b} A leader wilder&apos;s ability to share her surging power with her allies reaches a new and profound level of understanding and as she surges, so do her allies. Beginning at 5th level, the wilder increases her surging aura radius by 5&apos; and whenever she gains the benefits of her surging euphoria, all allies within her surging aura radius also gain the benefits of surging euphoria. Every four levels beyond 5th (9th, 13th, and 17th level), the range of her surging aura radius increases by 5&apos; (to 20&apos; at 9th level, etc.)." compset="CustomSpec" summary="For the leader wilder, the rush of emotions is at its highest when amongst allies and friends." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeLead" name="Surge - Leader&apos;s"/>
    <bootstrap thing="fPUSurAur">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="10000"><![CDATA[
~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The leader wilder gains the Surging Aura* feat as a bonus feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "A leader wilder's ability to share her surging power with her allies reaches a new and profound level of understanding and as she surges, so do her allies. Beginning at 5th level, the wilder increases her surging aura radius by 5' and whenever she gains the benefits of her surging euphoria, all allies within her surging aura radius also gain the benefits of surging euphoria. Every four levels beyond 5th (9th, 13th, and 17th level), the range of her surging aura radius increases by 5' (to 20' at 9th level, etc.)."]]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
~ If we are level 5+ set extra text onto the Surging Aura feat
If (field[xTotalLev].value >= 5) Then
   #appenddesc[fPUSurAur,"{b}Improved Surge Bond:{/b} The wilder increases her surging aura radius and whenever she gains the benefits of her surging euphoria, all allies within her surging aura radius also gain the benefits of surging euphoria."]
   #value[fPUSurAur] += 5
Endif
If (field[xTotalLev].value >= 9) Then
   #value[fPUSurAur] += 5
Endif
If (field[xTotalLev].value >= 13) Then
   #value[fPUSurAur] += 5
Endif
If (field[xTotalLev].value >= 17) Then
   #value[fPUSurAur] += 5
Endif]]></eval>
    </thing>
  <thing id="cWldStuSur" name="Student&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} A student wilder has received some formal training in psionics, but still uses raw emotions to empower her abilities. The student wilder uses any emotion much like a free wilder, but with more focus and control. A student wilder overcome by psychic enervation is dazzled for a number of rounds equal to the level of wild surge used and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost). If the student wilder suffers psychic enervation again while still suffering from a previous psychic enervation, the penalties stack (-1 to attack rolls and sight-based Perception checks) and the duration resets.\n\n{b}Surge Bond:{/b} The student wilder gains the Psicrystal Affinity* feat as a bonus feat.\n\n{b}Improved Surge Bond:{/b} A student wilder gains the Expanded Knowledge feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc)." compset="CustomSpec" summary="A student wilder has received some formal training in psionics, but still uses raw emotions to empower her abilities." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeStud" name="Surge - Student&apos;s"/>
    <bootstrap thing="fPUPsicry">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="10000"><![CDATA[
~ Set type of Bonus Feats allowed
perform linkage[table].assign[fInclude.fPUExpKn]

~ Set the bonus levels
linkage[table].field[cBonFtTot].arrayvalue[4] = 2
linkage[table].field[cBonFtTot].arrayvalue[8] = 3
linkage[table].field[cBonFtTot].arrayvalue[12] = 4
linkage[table].field[cBonFtTot].arrayvalue[16] = 5

~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The student wilder gains the Psicrystal Affinity* feat as a bonus feat.{br}{br}{b}Note:{/b} The Psicrystal is added on the 'Other' tab."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "A student wilder gains the Expanded Knowledge feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc)."]]]></eval>
    </thing>
  <thing id="cWldWarSur" name="Warrior&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} A warrior wilder embraces the surge of adrenaline, the rush of combat and melee and thus her connection to her body is far more intense. When she rides the wave of her combat-driven emotions, rage and fear foremost, the strain can sometimes be too high for her body to bear. A warrior wilder overcome by psychic enervation is staggered until the end of her next turn and loses a number of hit points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of hit points lost).{br}{br}The warrior wilder may expend her psionic focus as a free action when she would suffer psychic enervation to convert this damage into power point loss, although she is still staggered as normal.{br}{br}{b}Surge Bond:{/b} The warrior wilder gains the Toughness feat as a bonus feat.{br}{br}{b}Improved Surge Bond:{/b} At 5th level, the warrior wilder gains the Hardened Body ability." compset="CustomSpec" summary="A warrior wilder embraces the surge of adrenaline, the rush of combat and melee and thus her connection to her body is far more intense." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeWarr" name="Surge - Warrior&apos;s"/>
    <bootstrap thing="fToughness">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <eval phase="First" priority="1000"><![CDATA[
~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The warrior wilder gains the Toughness feat as a bonus feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "At 5th level, the warrior wilder gains the Hardened Body ability."]]]></eval>
    </thing>
  <thing id="cWldVolMnd" name="Volatile Mind" description="A free wilder&apos;s temperamental mind is hard to affect with telepathy or enchantment. Beginning at 5th level, the wilder gains a +1 bonus to saving throws against telepathy powers or enchantment spells. Every four levels beyond 5th (9th, 13th, and 17th level), this bonus improves by +1.\n\nWhenever any telepathy power is manifested or any enchantment spell is cast on a wilder of 17th level or higher, the wilder receives a Will save to negate the effect in addition to any save the effect may allow; if the spell or power already allows a Will save to negate, the wilder makes a second one, and would need to fail both to be affected." compset="ClSpecial" summary="A free wilder&apos;s temperamental mind is hard to affect with telepathy or enchantment.">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
~ If the improved surge ability is disabled then we disabled.
If (hero.child[cWldImpSur].tagis[Helper.SpcDisable] = 1) Then
  perform assign[Helper.SpcDisable]
Endif

~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)]]></eval>
    </thing>
  <thing id="cWldSurBnd" name="Surge Bond" description="The wilder&apos;s choice of emotional surge, as defined in psychic enervation, grants the wilder additional benefits through a surge bond. The wilder gains a unique benefit depending on the type of surge selected." compset="ClSpecial" summary="You gain a unique benefit depending on the type of surge selected."></thing>
  <thing id="cWldImpSur" name="Improved Surge Bond" description="At 5th level, the wilder&apos;s surge bond grants additional special abilities depending on the type of wilder." compset="ClSpecial" summary="You gain additional special abilities based on Surge Type.">
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cWldHarBod" name="Hardened Body" description="A warrior wilder&apos;s deep and intense connection to her body means that when her mind surges with power, her body grows more powerful. Beginning at 5th level, the wilder gains 5 temporary hit points whenever they gain the benefits of surging euphoria. These temporary hit points last for the duration of the warrior wilder&apos;s surging euphoria. Every four levels beyond 5th (9th, 13th, and 17th level), these temporary hit points increase by 5 (to 10 at 9th level, etc.)." compset="ClSpecial" summary="A warrior wilder&apos;s deep and intense connection to her body means that when her mind surges with power, her body grows more powerful.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="PUHitPoint" name=" Hit Points"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
~ If the improved surge ability is disabled then we disabled.
If (hero.child[cWldImpSur].tagis[Helper.SpcDisable] = 1) Then
  perform assign[Helper.SpcDisable]
Endif

var bonus as number
bonus = field[xIndex].value * 5
~Set the list name
field[listname].text = field[thingname].text & " " & bonus & "HP"

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value * 5
field[trkMax].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cWldPsyEne" name="Psychic Enervation" description="Pushing oneself by invoking a wild surge is dangerous. Immediately following each wild surge, a wilder may be overcome by the strain of her effort, the effect of which is detailed in the specific surge type below. The chance of suffering psychic enervation is 15%." compset="ClSpecial" summary="15% to suffer a psychic enervation.">
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cWldSurBla" name="Surge Blast" description="A wilder can channel her emotions into a blast of uncontrolled phrenic energy. As a standard action and by expending psionic focus, the wilder can make a ranged touch attack (range 30&apos;) that deals 1d6 points of force damage for every +1 to her wild surge. Example: Amonai, a 15th level wilder has wild surge +5, and thus deals 5d6 with his surge blast. Surge blasts do not trigger psychic enervation." compset="ClSpecial" summary="Standard Action ranged touch attack of 30ft.">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[
~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ If we've been Disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += #value[cWldWildSu]
field[livename].text = field[name].text & " " & field[abValue].value & "d6"
field[abSumm].text = "Standard action 30ft ranged touch attack of " & field[abValue].value & "d6 force damage."]]></eval>
    </thing>
  <thing id="cWldElude" name="Elude Attack" description="Starting at 2nd level, a wilder&apos;s intuition supersedes her intellect, alerting her to danger from attacks. She gains a +1 dodge bonus to her Armor Class. This bonus increases by 1 every 4 levels thereafter (+2 at 6th level, +3 at 10th level, etc)." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)
field[abSumm].text = "You gain a " & signed(field[abValue].value) & " dodge bonus to your Armor Class."

~ Give a Dodge Bonus to AC
#applybonus[tACDodge,hero.child[ArmorClass],field[abValue].value]]]></eval>
    </thing>
  <thing id="cWldSurEup" name="Surging Euphoria" description="Starting at 4th level, when a wilder uses her wild surge ability, she gains a +1 morale bonus on attack rolls, damage rolls, and saving throws for a number of rounds equal to the intensity of her wild surge.{br}{br}If a wilder is overcome by psychic enervation following her wild surge, she does not gain the morale bonus for this use of her wild surge ability.{br}{br}At 12th level, the morale bonus on a wilder&apos;s attack rolls, damage rolls, and saving throws increases to +2. At 20th level, the bonus increases to +3." compset="ClSpecial">
    <fieldval field="actName" value="Used Wild Surge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Usage" tag="Round"/>
    <tag group="User" tag="Tracker"/>
    <tag group="User" tag="Activation"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <eval phase="PostLevel" priority="10050"><![CDATA[~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

field[abSumm].text = "Gain " & signed(field[abValue].value) & " morale bonus on attack, damage, and saving throws for " & #value[cWldWildSu] & " rounds."

~ Set number of rounds in tracker
field[trkMax].value = #value[cWldWildSu]]]></eval>
    <eval phase="PostLevel" priority="20000" index="2"><![CDATA[
~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)
~ If not activated get out now!
doneif (field[abilActive].value <> 1)

~ Give bonus to hit
#applybonus[BonMorale,hero.child[Attack],field[abValue].value]
~ Give bonus to dmg
#applybonus[BonMorale,hero.child[Damage],field[abValue].value]
~ Give bonus to saves
#applybonus[BonMorale,hero.child[svAll],field[abValue].value]]]></eval>
    </thing>
  <thing id="cWldPerSur" name="Perfect Surge" description="The wilder has mastered the untamable and can now use a blindingly powerful version of wild surge, albeit at great cost. Once per day, the wilder may add +10 to her manifester level on one manifestation as if through wild surge. In addition to this increase, the manifestation also receives +3 to its save DC, +3 to any attack rolls involved, and is treated as a power five levels higher for the purposes of leveldependent effects (such as {i}minor globe of invulnerability{/i}).\n\nA power manifested with a perfect surge has the radius and intensity of its associated displays doubled; such displays cannot be hidden normally.\n\nThe wilder exudes light as if she is the subject of the daylight spell while using a perfect surge, and anyone who makes physical contact with her before the start of her next turn takes 1d4 points of fire damage.\n\nHowever, this extreme example of wild surging has its price. The wilder is struck by psychic enervation afterwards without fail, except she suffers her associated condition (dazed, staggered, etc.) for 1d4 rounds and loses a number of power points or hit points (dependant on path) equal to her manifester level +10. The wilder also takes 2 points of ability burn to every ability score.\n\nThe wilder cannot use wild surge or Overchannel on the same manifestation as a perfect surge." compset="ClSpecial" summary="Add +10 to ML, +3 DC, +3 attack rolls, and is treated as 5 levels higher.">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="fcPUPwrPnt" name="+1 Power Point" description="+1 Power Point" compset="FavClass" uniqueness="unique">
    <comment><![CDATA[This is bootstrapped to the "Psionic Aptitude" racial ability. This way when the racial ability is bootstrapped to a race this FC comes along for the ride. It then allows for the ability to select +1 Power Point.

This should allow for people making custom races to have it work correctly for them also.]]></comment>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="PUProdID"/>
    <tag group="Helper" tag="Bootstrap"/>
    <eval phase="PostLevel" priority="10000">field[abValue].value += field[fcCount].value    
#resmax[resPowerPt] += field[abValue].value</eval>
    </thing>
  <thing id="arPsicryPs" name="Psicrystal" description="Deprecated" compset="ClassVary" uniqueness="unique">
    <comment>Deprecated</comment>
    <fieldval field="cvArcFStar" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoCompList"/>
    <tag group="Helper" tag="MinionINT6"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="CompList" tag="arPsicryst"/>
    <bootstrap thing="cArcFClass"></bootstrap>
    <bootstrap thing="cArcFNear">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPsi"/>
    <exprreq message="Requires Psicrystal Affinity"><![CDATA[#hasfeat[fPUPsicry] <> 0]]></exprreq>
    </thing>
  <thing id="cPUPsicrys" name="Psicrystal" description="The psicrystal is a piece of the hero&apos;s personality given form." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <tag group="SpecSource" tag="cHelpWiz" name="Wizard" abbrev="Wizard"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <bootstrap thing="cArcFNear">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cArcFShare">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cArcFEmpLn">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cArcFTouch">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cArcFSpkMs">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cArcFSpkAn">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cArcFScry">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cArcFClass">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <eval phase="First" priority="375">linkage[table].field[cArcFStart].value = 1</eval>
    </thing>
  <thing id="cPwrResist" name="Power Resistance" description="Upon achieving 5th level, a phrenic slayer&apos;s mind has learned how to protect not only against mind-affecting effects, but against varied forms of psionic attacks from her favored enemy. The phrenic slayer gains power resistance equal to 13 + her class level against effects from her favored enemy." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="SpecType" tag="Resist"/>
    <bootstrap thing="xPwrRes"></bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[PhrenicS] < 5)
~if we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += #levelcount[PhrenicS] + 13

field[livename].text = field[thingname].text & " (PR " & field[abValue].value & ")"
field[abSumm].text = "Gain Pwr Resist " & field[abValue].value & "."

~#applysr[field[abValue].value]
hero.child[xPwrRes].field[abValue].value = field[abValue].value]]></eval>
    </thing>
  <thing id="arPsicryPW" name="Psicrystal" description="Deprecated" compset="ClassVary" uniqueness="unique">
    <comment>Deprecated</comment>
    <fieldval field="cvArcFStar" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoCompList"/>
    <tag group="Helper" tag="MinionINT6"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="CompList" tag="arPsicryst"/>
    <bootstrap thing="cArcFClass"></bootstrap>
    <bootstrap thing="cArcFNear">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPWa"/>
    <exprreq message="Requires Psicrystal Affinity"><![CDATA[#hasfeat[fPUPsicry] <> 0]]></exprreq>
    </thing>
  <thing id="cHelpCrb" name="Cerebremancer" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Crb"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="cHDSides" value="6"/>
    <arrayval field="cMagLevTot" index="0" value="1"/>
    <arrayval field="cMagLevTot" index="1" value="2"/>
    <arrayval field="cMagLevTot" index="2" value="3"/>
    <arrayval field="cMagLevTot" index="3" value="4"/>
    <arrayval field="cMagLevTot" index="4" value="5"/>
    <arrayval field="cMagLevTot" index="5" value="6"/>
    <arrayval field="cMagLevTot" index="6" value="7"/>
    <arrayval field="cMagLevTot" index="7" value="8"/>
    <arrayval field="cMagLevTot" index="8" value="9"/>
    <arrayval field="cMagLevTot" index="9" value="10"/>
    <usesource source="pPsiUn"/>
    <tag group="Classes" tag="Cerebreman"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="Helper" tag="TwoExtraMg"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ClassSkill" tag="skKnowArca"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skLinguist"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ExtraLev1" tag="Arcane"/>
    <tag group="ExtraLev2" tag="Manifester"/>
    <bootstrap thing="cMindMagic">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cMindMagic">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cWeaveSour">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    </thing>
  <thing id="cCereb" name="Cerebremancer" description="Cerebremancers tap into the power of the mind and the mystical arts. They are adepts at plumbing the mysteries of the arcane and of exploring the internal secrets of psionics. Most cerebremancers tend to be ambitious, wanting access to the power of magic and psionics, rather than what they  consider to be the tedious aspect of focusing on only a single source of power.\n\nTo become a cerebremancer, a character must have training in both manifesting psionic powers and casting arcane spells. While the most common sort of cerebremancer is one who is a psion and a wizard, other combinations such as wilder and sorcerer are also possible. Psychic warriors rarely take up the path of the cerebremancer, as the focus on manifesting tends to take too much away from their focus on physical combat.\n\n{b}Role:{/b} Cerebremancers combine the flexibility of augmenting powers, with the versatility of arcane magic. While they slow down their access to more powerful effects, they gain incredible utility potential due to their access to spells and powers, allowing them to be a veritable walking toolbox as well as a deadly opponent from afar in combat.\n\n{b}Alignment:{/b} Any" compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpCrb"></bootstrap>
    <link linkage="helper" thing="cHelpCrb"/>
    <exprreq message="Ability to cast 2nd-level Arcane spells required." onlyonce="yes"><![CDATA[tagcount[Hero.Arcane] >= 2 + 1]]></exprreq>
    <exprreq message="Knowledge (Arcana) 3 ranks required." onlyonce="yes"><![CDATA[#skillranks[skKnowArca] >= 3]]></exprreq>
    <exprreq message="Knowledge (Psionics) 3 ranks required."><![CDATA[#skillranks[skPUKnwPsi] >= 3]]></exprreq>
    <prereq message="Able to manifest 2nd level powers required" onlyonce="yes">
      <validate><![CDATA[foreach pick in hero where "Classes.? & Helper.Manifester"
  if (eachpick.field[cPsiLevMax].value >= 2) then
    @valid = 1
    done
    endif
  nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="cMagicMani" name="Magical Manifesting" description="A cerebremancer is capable of using his spells to increase the power level of powers he manifests. By expending a level one spell slot when he manifests a power, that power is treated as one level higher for purposes of its save DC and interacting with effects that deal with power level, such as {i}minor globe of invulnerability{/i}." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "1st"
      elseif (field[xIndex].value = 2) then
        levelname = "2nd"
      elseif (field[xIndex].value = 3) then
        levelname = "3rd"
      else
        levelname = field[xIndex].value & "th"
        endif

      field[listname].text = "Magical Manifesting (" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "1st"
      elseif (field[xCount].value = 2) then
        levelname = "2nd"
      elseif (field[xCount].value = 3) then
        levelname = "3rd"
      else
        levelname = field[xCount].value & "th"
        endif

      field[livename].text = "Magical Manifesting (" & levelname & ")"]]></eval>
    </thing>
  <thing id="cMindMagic" name="Mind Over Magic" description="A cerebremancer learns how to meld the augmentation of psionic powers with the arcane nature of spells. Starting at 2nd level, when a cerebremancer casts a spell, he may spend two power points to increase the save DC by 1. At 6th level, the cerebremancer may spend four power points to increase the save DC by 2." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "1"
      elseif (field[xIndex].value = 2) then
        levelname = "2"
        endif

      field[listname].text = "Mind Over Magic (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "1"
      elseif (field[xCount].value = 2) then
        levelname = "2"
        endif

      field[livename].text = "Mind Over Magic (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cWeaveSour" name="Weave the Sources" description="Once a cerebremancer reaches 10th level, he can manifest a power and cast a spell using one action. Both the power and the spell must have the same manifesting and casting time. The cerebremancer can make any decisions concerning the power and spell independently. Any target affected by both the power and the spell takes a -2 penalty on saves made against each. The cerebremancer receives a +2 bonus on manifester and caster level checks made to overcome power and spell resistance with this power and spell. A cerebremancer may use this ability once per day." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cHelpElo" name="Elocator" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Elo"/>
    <fieldval field="cSkills" value="6"/>
    <fieldval field="cHDSides" value="8"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="5" value="4"/>
    <arrayval field="cMagLevTot" index="6" value="5"/>
    <arrayval field="cMagLevTot" index="7" value="6"/>
    <arrayval field="cMagLevTot" index="9" value="7"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skFly"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSleight"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="Classes" tag="Elocator"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Good"/>
    <tag group="psiClass" tag="Elocator"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cSpatAware">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cSpatAware">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cSpatAware">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cAirAcro">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUrsGrav">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cScornEart">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cTermVelo">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cFreerun">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cFreerun">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cFreerun">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cDimeStep">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cDimeStep">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cDimeStep">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cFlanker">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cDimeSwap">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cTransport">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cCaprStep">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cDimSprAtt">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cAccelAct">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    </thing>
  <thing id="cElocator" name="Elocator" description="Elocaters are renowned for their ability to make effective use of space and motion to pull off difficult or otherwise-impossible tactics in combat. They excel at closing in with less agile enemies, striking, and departing quickly to cover. Elocaters learn to manipulate the effects of gravity to reorient its effect for their own personal use, and often will use walls, ceilings, and other obstacles to maximum effect.\n\nPsychic warriors tend to be the most common character class drawn to the elocater, as the freedom and maneuverability it gives on the battlefield is a prized ability, while nomads find the freedom of movement to be a powerful attraction. Some wilders and psions of other disciplines also find use out of the elocater class, although more rarely than psychic warriors or nomads.\n\n{b}Role:{/b} As masters of manipulating gravity and space, elocaters know where to position themselves to be effective. With their ability to defy gravity, elocaters can make excellent scouts, get to locations that might otherwise be impossible, and overcome physical impediments that a normal person might find impassable.\n\n{b}Alignment:{/b} Any" compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpElo"></bootstrap>
    <link linkage="helper" thing="cHelpElo"/>
    <exprreq message="Mobility required." onlyonce="yes"><![CDATA[#hasfeat[fMobility] <> 0]]></exprreq>
    <exprreq message="Acrobatics 5 ranks required." onlyonce="yes"><![CDATA[#skillranks[skAcrobat] >= 5]]></exprreq>
    <exprreq message="Base attack bonus +3 required." onlyonce="yes"><![CDATA[child[Attack].field[tAtkBase].value >= 3]]></exprreq>
    <prereq message="Spring Attack feat orNomad Step class ability required.">
      <validate><![CDATA[if (#hasfeat[fSpringAtt] + #hasability[cPsiNomSte] >= 1) then
  @valid = 1
  done
  endif]]></validate>
      </prereq>
    <prereq message="Able to manifest 1st level powers required" onlyonce="yes">
      <validate><![CDATA[
        foreach pick in hero where "Classes.? & Helper.Manifester"
          if (eachpick.field[cPsiLevMax].value >= 1) then
            @valid = 1
            done
            endif
          nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="cSpatAware" name="Spatial Awareness" description="Beginning at 2nd level, an elocater&apos;s hyperawareness of spatial relations lets her use the battlefield to her advantage. When she attacks with a bonus from higher ground or is flanking the attacked enemy with an ally, the first attack she makes against that enemy each round gains a +2 insight bonus to her attack roll and damage roll (if the attack hits). Furthermore, due to her ability to reorient herself, enemies no longer gain a bonus when attacking her from higher ground. At 5th level the insight bonus increases to +4, and at 8th level the insight bonus increases to +6." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "2"
      elseif (field[xIndex].value = 2) then
        levelname = "4"
      elseif (field[xIndex].value = 3) then
        levelname = "6"
        endif

      field[listname].text = "Spatial Awareness (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "2"
      elseif (field[xCount].value = 2) then
        levelname = "4"
      elseif (field[xCount].value = 3) then
        levelname = "6"
        endif

      field[livename].text = "Spatial Awareness (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cAirAcro" name="Aerial Acrobatics" description="The elocater adds her ranks in Acrobatics as a bonus to any Fly checks, and her ranks in Fly as a bonus to any Acrobatics checks, due to her ability to control her personal gravity. She also treats all Acrobatics checks to jump as if she had a running start." compset="ClSpecial">
    <tag group="SpecType" tag="Movement"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PreLevel" priority="5000">#skillbonus[skAcrobat] += #skillranks[skFly]
#skillbonus[skFly] += #skillranks[skAcrobat]</eval>
    </thing>
  <thing id="cPUrsGrav" name="Personal Gravity" description="As long as the elocater is within 1 foot of a sufficiently stable solid or liquid surface, she can change her personal gravity with a thought (free action). As a result, she may move on walls, ceilings, etc. as if they were level floors, including being able to run, jump, and take 5&apos; steps.\n\nPersonal gravity is constantly active, even when unconscious, unless the elocater deliberately suppresses it (a free action), is heavily encumbered, or is slain. If the elocater is carrying a medium load or wearing heavy or medium armor while using personal gravity, her speed reduces to 10 feet per round." compset="ClSpecial">
    <eval phase="Final"><![CDATA[if (hero.tagis[Encumbered.Light] = 0) then
  ~ If we are carrying a Medium Load or wearing Medium or Heavy Armor   ~ speed reduces to 10'
  hero.child[Speed].field[tSpeed].value = 10
  endif]]></eval>
    </thing>
  <thing id="cScornEart" name="Scorn Earth" description="t 1st level, an elocater&apos;s feet lift from the ground. From now on, she can float a foot above the ground, but still move and act as if she were standing on solid ground. At distances greater than 1 foot from any sufficiently stable surface, her speed diminishes to 10 feet per round, but she can move in any direction (including straight up or down). Melee and ranged attacks suffer increasing penalties as if she were the subject of the defy gravity power. \n\nScorn earth is constantly active, even when unconscious, unless the elocater deliberately suppresses it (a free action), is heavily encumbered, or is slain. If the elocater is carrying a medium load or wearing heavy or medium armor while using scorn earth, her speed reduces to 10 feet per round." compset="ClSpecial">
    <eval phase="Final"><![CDATA[if (hero.tagis[Encumbered.Light] = 0) then
  ~ If we are carrying a Medium Load or wearing Medium or Heavy Armor   ~ speed reduces to 10'
  hero.child[Speed].field[tSpeed].value = 10
  endif]]></eval>
    </thing>
  <thing id="cTermVelo" name="Terminal Velocity" description="As long as either personal gravity or scorn earth is active, if the elocater would be in a position to fall (for example, stepping over a pit), she instead hovers at her current position, as if standing on solid ground. As a move action, she can safely float or jump down 30&apos; (she can float down an additional 30&apos; per additional move action spent in this way)." compset="ClSpecial"></thing>
  <thing id="cFreerun" name="Freerunning" description="Beginning at 2nd level, an elocater&apos;s land speed increases by 10 feet. This is treated as a circumstance bonus (it does not stack with terrain-based circumstance bonuses, such as the circumstance bonus from using skate on a decline). This bonus increases to 20 feet at 5th level and to 30 feet at 8th level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Final" priority="10000"><![CDATA[var bonus as number
bonus = field[xIndex].value * 10
field[listname].text = "Freerunning (+" & bonus & "')"]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="cDimeStep" name="Dimension Step" description="An elocater of 3rd level or higher can slip psionically between spaces as if using the {i}fold space{/i} power, once per day. The elocater cannot bring any other creatures with her. Her manifester level for this effect is equal to her elocater level. At 6th level, the elocater gains a second daily usage, and at 9th level, she can use this ability three times per day." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="Final" priority="1000"><![CDATA[var bonus as number
bonus = field[xIndex].value

field[listname].text = "Dimension Step (" & bonus & "/day)"

field[trkMax].value = field[xCount].value

~we only need to generate a livename for the first copy
~doneif (tagis[Helper.FirstCopy] = 0)

~field[livename].text = "Dimension Step (" & bonus & "/day)"]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="cFlanker" name="Flanker" description="An elocater of 4th level or higher can flank enemies from seemingly impossible angles. She can designate any square adjacent to her as the square from which flanking with an ally is determined (including the square where she stands, as normal). She can designate the square at the beginning of her turn or at any time during her turn. The designated square remains her effective square for flanking until she is no longer adjacent to it or until she chooses a different square (at the start of one of her turns). The character can even choose a square that is impassable or occupied." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cDimeSwap" name="Dimension Swap" description="An elocater of 6th level can use her dimension step ability to swap locations with one willing creature within 60 feet to which the elocater has line of sight. The use of this ability counts as one daily use of her dimension step ability." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cTransport" name="Transporter" description="At 6th level, an elocater learns both {i}psychoport{/i} and {i}planar travel{/i}. These powers are in addition to any powers the elocater normally learns by advancing a level. \n\nThe elocater treats these powers as if they were 3rd-level powers on her class list. This means, among other things, that manifesting these powers costs 5 power points. (If the character does not have a high enough manifester level to manifest 3rd-level powers the character cannot manifest these powers until she has attained the required manifester level.)" compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cCaprStep" name="Capricious Step" description="At 7th level, an elocater can take an extra 5-foot step in any round when she doesn&apos;t perform any other movement (except for the first 5-foot step). Like the first, the second 5-foot step does not provoke attacks of opportunity. The character can take the extra 5-foot step immediately after taking the first, or wait until the end of her other actions for the round. In all other ways, the rules for taking a 5-foot step apply." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cDimSprAtt" name="Dimension Spring Attack" description="An elocater of 9th level or higher can use her dimension step ability in conjunction with her Spring Attack feat. This ability can be used only against opponents within 60 feet to which the elocater has line of sight. She can dimension step up to the target, use Spring Attack, and then use dimension step to return to her starting point. (When she uses this ability, the total distance she can travel before and after the attack is not limited by her speed.) The use of this ability counts as one use of her dimension step.\n\nIf the elocater does not have the Spring Attack feat, she may not use this ability." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cAccelAct" name="Accelerated Action" description="When she attains 10th level, an elocater can accelerate herself and thereby take more actions than normal. An elocater can accelerate herself for a total of 5 rounds per day. She can choose to parcel out her accelerated actions in 1-round increments. (This effect is not cumulative with similar effects that provide additional actions, such as {i}schism{/i}or a {i}haste{/i} spell-and in fact an elocater can&apos;t take an accelerated action if affected by these or similar effects.)\n\nIf she makes a full attack while accelerated, an elocater can make one extra attack with any weapon she is holding. The attack is made using her full base attack bonus, plus any modifiers appropriate to the situation. If the elocater uses her accelerated action to move, she gains an enhancement bonus to her speed of +30 feet. The elocater can use her accelerated action to manifest a power, as long as she has not already manifested a power in the current round and the one she wants to manifest has a manifesting time of 1 standard action or shorter. While accelerated, she gains a +2 dodge bonus on attack rolls and Reflex saves and a +2 dodge bonus to Armor Class. Any condition that makes her lose her Dexterity bonus to Armor Class (if any) also makes her lose these dodge bonuses." compset="ClSpecial">
    <fieldval field="trkMax" value="5"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="DayRound"/>
    </thing>
  <thing id="cHelpMtm" name="Metamind" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Mtm"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="cHDSides" value="6"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="5" value="4"/>
    <arrayval field="cMagLevTot" index="6" value="5"/>
    <arrayval field="cMagLevTot" index="7" value="6"/>
    <arrayval field="cMagLevTot" index="9" value="7"/>
    <usesource source="pPsiUn"/>
    <tag group="psiClass" tag="AddNewTag"/>
    <tag group="ExtraLev1" tag="Manifester"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="Classes" tag="Metamind"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cMtMPsiTal">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cEffRechg">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cEffRechg">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cMtMPsiTal">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cMtMPsiTal">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Metamind >=2]]></containerreq>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Metamind >= 5]]></containerreq>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Metamind >= 8]]></containerreq>
      </bootstrap>
    <bootstrap thing="cExtPPLev">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="cMetamind" name="Metamind" description="Most who walk the path of the manifester seek to unlock progressively stronger powers and deeper secrets. Some, however, prefer to develop their internal reservoir of power rather than focusing on the scope of the effects they can manage. These metaminds learn to turn their bodies and minds into wells of psionic power, drawing more and more power when others would be exhausted.\n\nWhile metaminds still progress in their psionic abilities, their development in manifesting is stunted, but they make up for this by increasing their power point pool, even turning their psicrystal into a psionic battery.\n\n{b}Role:{/b} As a storehouse of psionic energy, metaminds are all about manifesting power after power, having the extra resources to continue manifesting when another would have run dry.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpMtm"></bootstrap>
    <link linkage="helper" thing="cHelpMtm"/>
    <exprreq message="Manifester level 4th required." onlyonce="yes"><![CDATA[tagcount[Hero.Manifester] >= 4]]></exprreq>
    <exprreq message="Psicrystal Affinity required." onlyonce="yes"><![CDATA[#hasfeat[fPUPsicry] <> 0]]></exprreq>
    <exprreq message="2 ranks Spellcraft required."><![CDATA[#skillranks[skSpellcr] >= 2]]></exprreq>
    <exprreq message="5 ranks Knowledge (Psionics) required." onlyonce="yes"><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    </thing>
  <thing id="cCogPsicry" name="Cognizance Psicrystal" description="A metamind masters the trick of storing excess power points in a psicrystal. The psicrystal is now treated as a {i}cognizance crystal{/i} capable of storing 5 power points, in addition to its psicrystal abilities. At every odd-numbered level, a metamind becomes able to store an additional 2 power points in his psicrystal, to a maximum of 13 points at 9th level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Final" priority="1000"><![CDATA[      var bonus as number
      var levelname as string

      if (field[xIndex].value = 1) then
        levelname = "5"
      elseif (field[xIndex].value = 2) then
        levelname = "7"
      elseif (field[xIndex].value = 3) then
        levelname = "9"
      elseif (field[xIndex].value = 4) then
        levelname = "11"
      elseif (field[xIndex].value = 5) then
        levelname = "13"
        endif

      field[listname].text = "Cognizance Psicrystal (" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "5"
      elseif (field[xCount].value = 2) then
        levelname = "7"
      elseif (field[xCount].value = 3) then
        levelname = "9"
      elseif (field[xCount].value = 4) then
        levelname = "11"
      elseif (field[xCount].value = 5) then
        levelname = "13"
        endif

      field[livename].text = "Cognizance Psicrystal (" & levelname & ")"]]></eval>
    </thing>
  <thing id="cSequestra" name="Sequestration" description="The metamind learns how to sequester his psionic knowledge to gain additional psionic power. At first level, the metamind may sequester two powers. When a power is sequestered, the character loses the use of it. However, the character immediately gains an additional number of power points equal to the power point cost of the sequestered power. For instance, a 1st level power sequestered grants 1 additional power point, while a 2nd level power grants 3 power points, and so on. Any power may be sequestered, even discipline powers of the character&apos;s select discipline list. When the metamind meditates to gain his power points, all sequestered powers are freed, allowing the metamind to choose new powers. The metamind may choose to sequester his powers at any time as a standard action, immediately gaining the appropriate number of power points, but the power becomes unusable until he meditates to gain his power points after sufficient rest.\n\nAs the metamind gains levels, the number of powers he can sequester increases. These new powers are then unavailable for use while they are sequestered." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Final" priority="1000"><![CDATA[var MyCount as number
MyCount = field[xIndex].value + 1
field[listname].text = "Sequestration (" & MyCount & ")"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)
var MyCount as number
MyCount = field[xCount].value + 1

field[livename].text = "Sequestration  (" & MyCount & ")"]]></eval>
    </thing>
  <thing id="cMtMPsiTal" name="Psionic Talent" description="Metaminds focus their studies in maximizing their psionic power. At 2nd level and every three levels thereafter, the metamind gains Psionic Talent as a bonus feat." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cEffRechg" name="Efficient Recharge" description="Beginning at 4th level, a metamind learns how to tap into the psionic nature of his own psicrystal to more efficiently recharge the power points stored within his cognizance psicrystal. Once per day, he may recharge the cognizance psicrystal, but only pays half the power point cost (rounded up). He may use this ability an additional time per day at 8th level." compset="ClSpecial" summary="Recharge cognizance psicrystal for half the PP cost.">
    <tag group="Usage" tag="Day" name="/day" abbrev="/day"/>
    <tag group="User" tag="Tracker" name="Modern Action Points" abbrev="Modern Action Points"/>
    <tag group="AbilType" tag="Super" name="Supernatural Ability" abbrev=" (Su)"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      field[listname].text = "Efficient Recharge (" & field[xIndex].value & "/day)"

      ~only run the rest for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)]]></eval>
    </thing>
  <thing id="cExtPPLev" name="Extra PP" description="At 1st, 5th and 9th levels, while the Metamind does not gain a full manifester, they do gain extra PP as if they had gained a level." compset="ClSpecial">
    <fieldval field="usrCandid1" value="Helper.Manifester &amp; ClassType.Normal"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="Helper" tag="Helper"/>
    <tag group="Custom" tag="ExtPPLev" name="Extra PP Level"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[~only run the rest for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~calculate difference in PP
var level as number
var level2 as number
var bonus as number
if (field[usrChosen1].ischosen <> 0) then
  perform field[usrChosen1].chosen.setfocus

  level = focus.field[cMagicLev].value - 1
  if (#levelcount[Metamind] >= 9) then
    level2 = focus.field[cMagicLev].value + 2
  elseif (#levelcount[Metamind] >= 5) then
    level2 = focus.field[cMagicLev].value + 1
  else
    level2 = focus.field[cMagicLev].value
  endif
endif

bonus = hero.child[cHelpPsi].field[cPsiPPTot].arrayvalue[level2] - hero.child[cHelpPsi].field[cPsiPPTot].arrayvalue[level]

hero.child[cHelpPsi].field[cPsiPPMax].value += bonus]]></eval>
    </thing>
  <thing id="cHelpPhr" name="Phrenic Slayer" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Phr"/>
    <fieldval field="cSkills" value="4"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="4" value="4"/>
    <arrayval field="cMagLevTot" index="5" value="5"/>
    <arrayval field="cMagLevTot" index="6" value="6"/>
    <arrayval field="cMagLevTot" index="7" value="7"/>
    <arrayval field="cMagLevTot" index="8" value="8"/>
    <arrayval field="cMagLevTot" index="9" value="9"/>
    <arrayval field="cFav1Tot" index="0" value="1"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="cWill" tag="Good"/>
    <tag group="Classes" tag="PhrenicS" name="Phrenic Slayer"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="cRef" tag="Poor"/>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="resEnemSel">
      <assignval field="livename" value="Favored Enemy (+2)"/>
      </bootstrap>
    <bootstrap thing="resEnemUpg"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cEnemySens">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cBrainNauS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cBrainNauN">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cBrainNauT">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cLucidBuff">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cLucidBuff">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPwrResist">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cFavEnemy">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cFavEnemy">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cFavEnemy">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cReboundAt">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cCereImmun">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cBreachPwr">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cCereBlind">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="fArmHeavy"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <eval phase="PostLevel" priority="1000"><![CDATA[doneif (#levelcount[PhrenicS] < 4)
hero.child[resEnemUpg].field[resMax].value += 1

doneif (#levelcount[PhrenicS] < 7)
hero.child[resEnemUpg].field[resMax].value += 1

doneif (#levelcount[PhrenicS] < 10)
hero.child[resEnemUpg].field[resMax].value += 1]]></eval>
    </thing>
  <thing id="cPhrenicS" name="Phrenic Slayer" description="Hatred and enmity are not emotions that those with psionic power are immune to experiencing. And for some psionic creatures, this enmity develops into a focus to kill a particular type of psionic creature. These phrenic slayers train rigorously to find and kill their quarry, learning techniques to protect themselves against their enemy, even learning to turn their enemies&apos; attacks back upon them.\n\nPsionic races with levels in ranger are most commonly drawn to the phrenic slayer prestige class, as their tracking and combat abilities have synergy with the nature of the phrenic slayer. Manifesters may also become phrenic slayers, seeking to improve their combat prowess while hunting down their psionic creature of choice.\n\n{b}Role:{/b} Phrenic slayers excel at doing just what their name implies, killing, particularly the psionic creature type that has earned their focus. Their abilities allow them to go toe-to-toe with their favored enemy, often using their attacker&apos;s abilities against them.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpPhr"></bootstrap>
    <link linkage="helper" thing="cHelpPhr"/>
    <exprreq message="Power Point reserve of 1 required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    <exprreq message="Base Attack Bonus 4+ required."><![CDATA[child[Attack].field[tAtkBase].value >= 4]]></exprreq>
    <exprreq message="1 rank Knowledge (Psionics) required."><![CDATA[#skillranks[skPUKnwPsi] >= 1]]></exprreq>
    <prereq message="Requires Skill Focus (Survival)  or Track class feature">
      <validate><![CDATA[
if (hero.child[skSurvival].tagis[Helper.SkillFocus] + #hasability[cRgrTrack] >= 1 )then
       @valid = 1
       done
     endif]]></validate>
      </prereq>
    </thing>
  <thing id="cEnemySens" name="Enemy Sense" description="A phrenic slayer can sense the presence of her favored enemy within 60 feet of herself, even if they are hidden by darkness or walls, but she cannot discern their exact location." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Sense"/>
    </thing>
  <thing id="cBrainNauS" name="Brain Nausea (sickened)" description="A phrenic slayer of 2nd level or higher has developed an innate backlash effect when her favored enemy targets her with mind-affecting effects. Any time the phrenic slayer makes a successful save against a mind-affecting effect from her favored enemy and has psionic focus, the favored enemy must make a successful Will save (DC 10 + &#189; slayer level + Wisdom modifier) or be sickened for a number of rounds equal to the phrenic slayer&apos;s Wisdom modifier. At 6th level, the source is instead nauseated on a failed save. At 10th level, the source is stunned for one round on a failed save." compset="ClSpecial"></thing>
  <thing id="cBrainNauN" name="Brain Nausea (nauseated)" description="A phrenic slayer of 2nd level or higher has developed an innate backlash effect when her favored enemy targets her with mind-affecting effects. Any time the phrenic slayer makes a successful save against a mind-affecting effect from her favored enemy and has psionic focus, the favored enemy must make a successful Will save (DC 10 + &#189; slayer level + Wisdom modifier) or be sickened for a number of rounds equal to the phrenic slayer&apos;s Wisdom modifier. At 6th level, the source is instead nauseated on a failed save. At 10th level, the source is stunned for one round on a failed save." compset="ClSpecial"></thing>
  <thing id="cBrainNauT" name="Brain Nausea (stunned)" description="A phrenic slayer of 2nd level or higher has developed an innate backlash effect when her favored enemy targets her with mind-affecting effects. Any time the phrenic slayer makes a successful save against a mind-affecting effect from her favored enemy and has psionic focus, the favored enemy must make a successful Will save (DC 10 + &#189; slayer level + Wisdom modifier) or be sickened for a number of rounds equal to the phrenic slayer&apos;s Wisdom modifier. At 6th level, the source is instead nauseated on a failed save. At 10th level, the source is stunned for one round on a failed save." compset="ClSpecial"></thing>
  <thing id="cLucidBuff" name="Lucid Buffer" description="At 3rd level, a phrenic slayer becomes especially skilled at resisting mental attacks. She gains a +2 competence bonus on saving throws against all compulsions and mind-affecting effects. This ability is active even if the phrenic slayer is unconscious, stunned, or otherwise helpless. This bonus increases to +4 at 8th level." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "2"
      elseif (field[xIndex].value = 2) then
        levelname = "4"
        endif

      field[listname].text = "Lucid buffer (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "2"
      elseif (field[xCount].value = 2) then
        levelname = "4"
        endif

      field[livename].text = "Lucid buffer (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cFavEnemy" name="Favored Enemy" description="When she enters the class, a phrenic slayer formally declares a psionic creature type from the phrenic slayer favored enemies table as the enemy she detests above all others. Due to her extensive study of her foes and training in the proper techniques for combating them, she gains a +2 bonus on Bluff, Perception, Sense Motive, and Survival checks when using these skills against her favored enemy.\n\nLikewise, she gets a +2 bonus on attack rolls and weapon damage rolls against creatures of this kind. These bonuses for favored enemies only work if the creature has the psionic subtype.\n\nAt 4th level the bonuses increase to +4, at 7th level to +6, and at 10th level to +8." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="ClExLose"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "4"
      elseif (field[xIndex].value = 2) then
        levelname = "6"
      elseif (field[xIndex].value = 2) then
        levelname = "8"
        endif

      field[listname].text = "Favored Enemy (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "4"
      elseif (field[xCount].value = 2) then
        levelname = "6"
      elseif (field[xCount].value = 3) then
        levelname = "8"
        endif

      field[livename].text = "Favored Enemy (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cCereBlind" name="Cerebral Blind" description="After reaching 6th level, a phrenic slayer is protected from all devices, powers, and spells that reveal location. This ability protects against information gathering by clairsentience powers or effects that reveal location.\n\nThe ability even foils bend reality, limited wish, miracle, reality revision, and wish when they are used to gain information about the phrenic slayer&apos;s location (however, metafaculty can pierce this protective barrier). In the case of remote viewing or scrying that scans an area a phrenic slayer is in, the effect works, but the phrenic slayer simply isn&apos;t detected. Remote viewing or scrying attempts that are targeted specifically at a phrenic slayer do not work. This ability is active as long as the phrenic slayer is psionically focused." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Resist"/>
    </thing>
  <thing id="cBreachPwr" name="Breach Power Resistance" description="A phrenic slayer of 8th level or higher can enhance her weapon with psionic might. Each successful melee attack (or ranged attack if the target is within 30 feet) she makes with her weapon against her favored enemy temporarily reduces its power resistance (if any) by 1. This penalty stacks. Unless the creature is slain, its lost power resistance returns all at once 12 hours later. This ability is active as long as the phrenic slayer is psionically focused. If the target has no power resistance, this ability does not function." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cCereImmun" name="Cerebral Immunity" description="On reaching 9th level, a phrenic slayer gains protection from all devices, powers, and spells that influence the mind. This ability grants her a +10 resistance bonus against almost all mind-affecting powers and effects (though the phrenic slayer can selectively allow powers or spells to affect her). The ability even foils bend reality, limited wish, miracle, reality revision, and wish when they are used to mentally influence a phrenic slayer. This ability is active as long as the phrenic slayer is psionically focused." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Immune"/>
    </thing>
  <thing id="cReboundAt" name="Rebound Attack" description="At 10th level, if a phrenic slayer is targeted by her favored enemy by an effect that is subject to power resistance, as an immediate action, she may expend her psionic focus to rebound the effect on the source as if using reddopsi. This effect may not be used on touch range effects (including ranged touch attacks), effects that target an area, or effects such as dispel psionics. She may use this ability a number of times per day equal to 3 plus her Wisdom modifier." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHelpPsU" name="Psion Uncarnate" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="PsU"/>
    <fieldval field="cSkills" value="2"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="4" value="3"/>
    <arrayval field="cMagLevTot" index="5" value="4"/>
    <arrayval field="cMagLevTot" index="7" value="5"/>
    <arrayval field="cMagLevTot" index="8" value="6"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skKnowPlan"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Medium"/>
    <tag group="Classes" tag="Uncarnate" name="Psion Uncarnate"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDisguise"/>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cUncArmor">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cAssumeEq">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cAssumeLi">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPartVeil">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cHideMind">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cUncPsiTal">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Uncarnate >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="cTeleForce">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cRendVeil">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cUncBridge">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cUncarAbil">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cShedBody">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cMatterBnd">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    </thing>
  <thing id="cUncarnate" name="Psion Uncarnate" description="It isn&apos;t known if the uncarnate process is what created the race of Unbodied, or if the Unbodied inspired the process of uncarnation. Either way, these two are linked in many ways, as the goal of the psion uncarnate is to leave the fetters of the physical corporeal body behind, transforming into a being of pure energy. Over time, the psion uncarnate releases his hold on the physical realm, becoming permanently incorporeal and thus free from the burdens and weaknesses of the physical form. To some, it is the quest for life eternal that leads to this path; for others, it is the wish to be truly free - free from society, constraints created by the physical body, and even the physical worlds themselves. Pure manifesters are the most likely to be drawn to become a psion uncarnate, due to the mastery of psionics needed. Psychic warriors, focusing on using both the body and mind, are very unlikely to walk the path to become a psion uncarnate.\n\n{b}Role:{/b} Psion uncarnates have a tendency to be loners, spending much of their time seeking to become incorporeal creatures. However, if they do choose to be around other creatures, they excel at getting to places that would otherwise be impossible to reach, by passing through barriers and avoiding detection.\n\n{b}Alignment:{/b} Any.\n\n{b}Special Requirement:{/b} Must have had some instruction by another psion uncarnate or one of the Unbodied." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpPsU"></bootstrap>
    <link linkage="helper" thing="cHelpPsU"/>
    <exprreq message="Psionic Body feat required."><![CDATA[#hasfeat[fPUPsiBody] <> 0]]></exprreq>
    <exprreq message="Knowledge (Psionics) rank 5+ required."><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    <exprreq message="Spellcraft rank 5+ required."><![CDATA[#skillranks[skSpellcr] >= 5]]></exprreq>
    <prereq message="Ability to manifest 3rd level powers required.">
      <validate><![CDATA[foreach pick in hero where "Classes.? & Helper.Manifester"
  if (eachpick.field[cPsiLevMax].value >= 3) then
    @valid = 1
    done
    endif
  nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="cShedBody" name="Shed Body" description="Starting at 1st level, a psion uncarnate can become incorporeal (or &#147;uncarnate&#148;) as a move action. Each day the character can remain uncarnate for up to 10 rounds and for each level after the first, he can remain uncarnate for 1 additional round. However, unlike other incorporeal creatures, a psion uncarnate does not gain a deflection bonus to Armor Class from his Charisma modifier. During this time, the character&apos;s body fades into an immaterial form that retains the character&apos;s basic likeness. While uncarnate, the character gains a fly speed equal to his land speed (perfect maneuverability). Losing his physical form allows the character to more easily access his mental abilities, and he gains a +1 bonus on all save DCs for powers he manifests while uncarnate. A psion uncarnate can become corporeal again as a move action and he is free to divide his available rounds per day in any way he chooses." compset="ClSpecial">
    <comment>Need to add +1 to the DC of all powers when Active.</comment>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="DayRound"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000" index="2"><![CDATA[var speed as number
speed = hero.child[Speed].field[tSpeed].value

field[abValue].value = speed
~and if we're active, set our fly speed
if (field[abilActive].value <> 0) then
  hero.childfound[xFly].field[abValue].value = maximum(hero.childfound[xFly].field[abValue].value, field[abValue].value)
  perform hero.child[xFly].assign[Maneuver.Perfect]
  endif]]></eval>
    <eval phase="Final" priority="1000"><![CDATA[var bonus as number
bonus = #levelcount[Uncarnate] + 9

~field[listname].text = "Shed Body (" & bonus & " rounds/day)"
~field[livename].text = "Shed Body (" & bonus & " rounds/day)"

field[trkMax].value = bonus]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="cMatterBnd" name="Matter Bound" description="When becoming uncarnate, the psion uncarnate can choose to either subsume his equipment into his incorporeal form, in which case they become inert (but see Assume Equipment below), or he can choose to have them remain functional but material. While the equipment is material, he can use it normally, deriving benefits from items that enhance his capabilities.\n\nOften, a psion uncarnate appears almost like a ghost wearing items of the material world. This doesn&apos;t make his equipment more susceptible to attack (the normal rules for attended objects apply), but it does make it impossible for the character to enter or pass through solid objects while wearing solid equipment. If he drops his material equipment or subsumes it as a swift action, he can pass through solid objects at will again." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cIncoTouch" name="Incorporeal Touch" description="Beginning at 2nd level, a psion uncarnate can make a melee  touch attack that deals 1d6 points of damage if it hits. The character&apos;s Strength modifier is not applied to this attack, but it is effective against incorporeal creatures (and against corporeal creatures while the psion uncarnate is incorporeal) The character&apos;s hand and arm seem to become slightly translucent when he makes these attacks. While material, the psion uncarnate can use this ability up to three times per day, and while uncarnate, a psion uncarnate can make melee touch attacks at will that do not count against his uses of this ability. For every 2 levels, he gains an additional use of this ability while material. For every three levels higher than 2nd the psion uncarnate attains, the damage on these attacks increases by 1d6 points." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="Final" priority="1000"><![CDATA[var dice as number
var times as number

if (field[xIndex].value = 1) then
  dice = 1
  times = 3
elseif (field[xIndex].value = 2) then
  dice = 1
  times = 4
elseif (field[xIndex].value = 3) then
  dice = 2
  times = 4
elseif (field[xIndex].value = 4) then
  dice = 2
  times = 5
elseif (field[xIndex].value = 5) then
  dice = 3
  times = 6
elseif (field[xIndex].value = 6) then
  dice = 3
  times = 7
  endif

field[listname].text = "Incorporeal Touch (" & dice & "d6) (" & times & "/day)"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

field[trkMax].value += times

if (field[xCount].value = 1) then
  dice = 1
elseif (field[xCount].value = 2) then
  dice = 1
elseif (field[xCount].value = 3) then
  dice = 2
elseif (field[xCount].value = 4) then
  dice = 2
elseif (field[xCount].value = 5) then
  dice = 3
elseif (field[xCount].value = 6) then
  dice = 3
  endif

field[livename].text = "Incorporeal Touch (" & dice & "d6)"]]></eval>
    </thing>
  <thing id="cUncArmor" name="Uncarnate Armor" description="At 2nd level, a psion uncarnate wearing armor (or using inertial armor or a similar effect) gets his armor bonus to AC even when he becomes incorporeal, along with any special abilities the armor may convey, such as fortification and the benefits against critical hits. This ability works even if the armor being worn becomes incorporeal and subsumed, as per Shed Body." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cAssumeEq" name="Assume Equipment" description="Beginning at 3rd level, a psion uncarnate can designate a number of pieces of his worn equipment (including weapons, but excluding armor which is always active anyway, as per the Uncarnate Armor ability) equal to his class level to retain their function when he uses his shed body ability. This has no effect on the equipment&apos;s function, but now when the psion uncarnate is incorporeal, he can enter or pass through solid objects while wearing nothing other than the designated equipment. Once designated, the equipment automatically changes to incorporeal when the character sheds his body, and it returns to corporeality when the character does. The character can change his designations as he desires as a free action." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[var bonus as number
bonus = #levelcount[Uncarnate]

field[listname].text = "Assume Equipment (" & bonus & " items)"
field[livename].text = "Assume Equipment (" & bonus & " items)"]]></eval>
    </thing>
  <thing id="cAssumeLi" name="Assume Likeness" description="At 4th level and higher, while incorporeal, a psion uncarnate can assume the likeness of any Small, Medium, or Large creature as a standard action that does not provoke attacks of opportunity. The character&apos;s abilities do not change, but he appears to be the creature that he assumes the likeness of, allowing him the ability to effectively disguise himself and bluff those who might wonder at his true nature. When he does this, he does not seem ghostlike, but rather quite material. Each physical interaction with a creature requires a successful Bluff check (opposed by the creature&apos;s Sense Motive check) to convince the creature of the psion uncarnate&apos;s new appearance. The psion uncarnate must not do anything to give away his true (incorporeal) nature in order for the bluff to be successful; for instance, if he accepts an item from another creature only to have it fall through his immaterial hands, the Bluff check automatically fails. However, a Bluff check would be allowed if the psion uncarnate uses his telekinetic force ability (see below) to hold the received item.\n\nWhen using his assume likeness ability, a psion uncarnate has an additional +10 circumstance bonus on Disguise checks. If he can read an opponent&apos;s mind, he gets a further +4 circumstance bonus on Bluff and Disguise checks." compset="ClSpecial">
    <fieldval field="actName2" value="Read opponent&apos;s mind?"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[~if we're active, set add Disguise bonus
if (field[abilActive].value <> 0) then
  #applybonus[Bonus,hero.childfound[skDisguise],10]
  endif

~if both active, set add additional Disguise bonus
if (field[abilAct2].value <> 0) then
  #applybonus[Bonus,hero.childfound[skDisguise],14]
  endif]]></eval>
    </thing>
  <thing id="cPartVeil" name="Parting the Veil" description="At 5th level, the psion uncarnate can expend a use of his Incorporeal Touch ability to give a weapon or armor he touches the Ghost Touch property for 5 minutes." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHideMind" name="Hide Mind" description="As the psion uncarnate continues to evolve towards a higher state of being, he gains the ability to hide his true nature from others. From 6th level, nothing can identify the psion uncarnate as being psionic, regardless of whether it is spells or powers." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cUncPsiTal" name="Psionic Talent" description="A psion uncarnate of 7th level gains the Psionic Talent feat as a bonus feat." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cTeleForce" name="Telekinetic Force" description="Beginning at 7th level, while incorporeal, a psion uncarnate can use telekinetic force as a standard action that does not provoke attacks of opportunity. The save DC is equal to 10 + class level + the psion uncarnate&apos;s key ability modifier (either Int, Wis, or Cha). The character&apos;s manifester level is the manifester level of the effect.\n\nEven while corporeal, a psion uncarnate can use this ability, but only three times per day (uses while he is uncarnate do not count against this use limit)." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cRendVeil" name="Rend the Veil" description="At 8th level, a psion uncarnate is almost at the peak of his ascension and can rend the veil that separates the material from the incorporeal. While incorporeal, the psion uncarnate can expend his psionic focus while making a melee touch attack against another incorporeal creature. If the attack hits, the target becomes material for up to 1 minute. While corporeal, the psion uncarnate can expend a use of his Incorporeal Touch ability to make a similar melee touch attack, that if it hits, makes the target incorporeal for up to 1 minute. Both uses affect both the creature and any equipment it is using. The psion uncarnate can end either use of this effect as a swift action." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cUncBridge" name="Uncarnate Bridge" description="At 9th level, the psion uncarnate can use the minds of others as a springboard for transportation. While incorporeal, he can enter the body of a living creature and instantly teleport to any other living creature within line of sight as a move action. This is often unsettling for those subjected to this and if he so chooses, the psion uncarnate can make his entry and exit even more disturbing by partially melding with the mind of those affected. If he so chooses, both the entry and exit creature must make a Fortitude save with a save DC equal to 10 + &#189; class level + the psion uncarnate&apos;s key ability modifier (either Int, Wis, or Cha). If the target fails, it becomes nauseated for 1 round." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cUncarAbil" name="Uncarnate" description="At 10th level, a psion uncarnate becomes a being of pure psionic consciousness. The character becomes permanently uncarnate, gains an additional +1 bonus to all save DCs of powers he manifests, counts his key ability score as 4 points higher for the purpose of bonus power points, gains a deflection bonus to his AC equal to his Charisma (minimum +1) and can instead use his Shed Body class ability to become material." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cHelpFst" name="Psychic Fist" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Fst"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cHDSides" value="8"/>
    <arrayval field="cBonFtTot" index="4" value="1"/>
    <arrayval field="cBonFtTot" index="9" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="cRef" tag="Medium"/>
    <tag group="cWill" tag="Medium"/>
    <tag group="Classes" tag="PsyFist" name="Psychic Fist"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="Custom" tag="FstBonPP" name="Bonus PP Gained for Psychic Fist"/>
    <tag group="cFort" tag="Poor"/>
    <bootstrap thing="cKiPower">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cInfuseBod">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cConcWill">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPsiAcro">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPsychFus">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cInfuseBod">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cInfuseBod">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cMesmerGlo">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPsyFstMnk">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="spellattr" thing="aWIS"/>
    </thing>
  <thing id="cPsyFist" name="Psychic Fist" description="Martial artists who work to combine the power of the mind with the physical form, psychic fists believe that psionic power is something to be nurtured and developed.\n\nMonks of psionic races are the most common to become psychic fists, although monks who have taken levels in psionic classes could also become psychic fists. As most psychic fists are monks, they are typically of a lawful alignment. However, it is not uncommon that monks who have become nonlawful take up the path of the psychic fist to continue developing their abilities while exploring their psionic potential.\n\n{b}Role:{/b} The psychic fist is a front-line fighter who excels at blending his martial prowess with his mental ability to overcome enemies. While they do not have the defensive capabilities of others, they gain unique features that allow them to survive in the fray.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpFst"></bootstrap>
    <link linkage="helper" thing="cHelpFst"/>
    <exprreq message="Power Point reserve of 1 required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    <exprreq message="Base Attack Bonus 4+ required"><![CDATA[child[Attack].field[tAtkBase].value >= 4]]></exprreq>
    <exprreq message="Acrobatics rank 6+ required."><![CDATA[#skillranks[skAcrobat] >= 6]]></exprreq>
    <prereq message="Must have Ki pool of at least 1 point">
      <validate><![CDATA[if (hero.childfound[cMnkKiPool].tagis[Helper.ShowSpec] <> 0) then
  @valid = 1
  done
  endif]]></validate>
      </prereq>
    <prereq message="Psionic Fist or Psionic Weapon feat required.">
      <validate><![CDATA[if (#hasfeat[fPUPsiFist] + #hasfeat[fPUPsiWep] >= 1 )then
       @valid = 1
       done
     endif]]></validate>
      </prereq>
    </thing>
  <thing id="cPsyFstMnk" name="Monk Abilities" description="A psychic fist&apos;s class levels stack with his monk levels for the purpose of determining his unarmed damage, bonuses to Armor Class, unarmored speed, and flurry of blows. His class levels do not apply to other monk abilities such as slow fall, ki strike abilities, and so on." compset="ClSpecial">
    <eval phase="Level" priority="1000"><![CDATA[~get current Psychic Fist level
var level as number
level = #levelcount[PsyFist]

~Add Psychic Fist level to Monk for Unarmed, AC, 
if (hero.tagis[Classes.Monk] <> 0) then
  hero.child[cMnkAC].field[xExtraLev].value += level
  hero.child[cMnkUnarm].field[xExtraLev].value += level
  hero.childfound[cMnkSpeed].field[xExtraLev].value += level
  hero.childfound[cMnkFlurr].field[xExtraLev].value += level
  endif]]></eval>
    </thing>
  <thing id="cKiPower" name="Ki Power" description="Upon achieving 2nd level, a psychic fist adds 1/2 his psychic fist level to his monk level to determine the number of points in his ki pool and the effect of his ki strike." compset="ClSpecial">
    <eval phase="Level" priority="1000"><![CDATA[~get current Psychic Fist level
var level as number
level = #levelcount[PsyFist] / 2
level = round(level,0,1)

~Add Psychic Fist level to Monk for Unarmed, AC, 
if (hero.tagis[Classes.Monk] <> 0) then
  hero.child[cMnkKiPool].field[xExtraLev].value += level
  endif]]></eval>
    </thing>
  <thing id="cInfuseBod" name="Infused Body" description="A 3rd level psychic fist&apos;s internal power strengthens his physical form. As long as the psychic fist maintains psionic focus, he gains damage reduction 1/-. This improves to 2/- at 6th level, and 3/- at 9th level." compset="ClSpecial" summary="Damage Reduction against weapons and natural attacks.">
    <tag group="SpecType" tag="DR" name="Damage Reduction" abbrev="Damage Reduction"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="xDamRd">
      <autotag group="SpecSource" tag="cHelpFst"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[field[listname].text = "Infused Body (DR: " & field[xIndex].value & "/-)"

  ~These calculations should only happen for the first copy
  doneif (tagis[Helper.FirstCopy] = 0)

  ~ If we're not shown, just get out now
  doneif (tagis[Helper.ShowSpec] = 0)

  field[abValue].value += field[xCount].value
  field[CustDesc].text = "Damage Reduction (" & field[abValue].value & ") against weapons and natural attacks."

~If psionically focused, add the Damage Reduction
if (hero.tagis[Hero.PsiFocus] <> 0) then
  hero.child[xDamRd].field[abValue].value = maximum(hero.child[xDamRd].field[abValue].value, field[abValue].value)
endif]]></eval>
    </thing>
  <thing id="cMesmerGlo" name="Mesmerising Glow" description="A psychic fist of 4th level can, as a standard action, spend 1 ki point to perform a visually-dazzling display, dazing up to half his class level in targets for one round unless the targets make a successful Will save (DC 10 + 1/2 psychic fist level + psychic fist&apos;s Wisdom modifier). All targets must be within 30 feet of the psychic fist and have line of sight to him to be affected." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cConcWill" name="Concentrated Will" description="Upon achieving 6th level, a psychic fist has learned to harness his internal energy to shrug off attacks that would harm others. Any time the psychic fist would suffer hit point damage, he may spend 2 ki points as an immediate action and make an Autohypnosis check (DC equal to double the damage of the attack) to ignore the damage. If the psychic fist fails the Autohypnosis check, the ki points are still spent and he still takes the damage." compset="ClSpecial"></thing>
  <thing id="cPsiAcro" name="Psionic Acrobatics" description="As long as a psychic fist of 7th level or higher maintains psionic focus, he adds his Wisdom modifier to his Acrobatics checks." compset="ClSpecial">
    <fieldval field="actName" value="Has Psionic Focus?"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="1000"><![CDATA[~If psionically focused, add Wisdom Modifier to acrobatics
if (hero.tagis[Hero.PsiFocus] <> 0) then
  #skillbonus[skAcrobat] += #attrmod[aWIS]
endif]]></eval>
    </thing>
  <thing id="cPsychFus" name="Psychic Fusion" description="At 10th level, whenever a psychic fist successfully confirms a critical with a melee attack, he can manifest a power as a swift action. The power must include the target of the attack as one of its targets or in its area of effect and have a normal manifesting time of 1 standard action or less. Manifesting this power does not provoke an attack of opportunity." compset="ClSpecial"></thing>
  <thing id="cHelpPyr" name="Pyrokineticist" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Pyr"/>
    <fieldval field="cSkills" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="Classes" tag="PyroKine" name="Pyrokineticist"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="cRef" tag="Medium"/>
    <tag group="cFort" tag="Medium"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="WepProf" tag="wWhip"/>
    <tag group="cWill" tag="Poor"/>
    <bootstrap thing="cManipBlaz">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cFireAdapt">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cFireAdapt">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cHandAfire">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cHandAfire">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cBoltFire">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cWepAfire">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cWepAfire">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cFirewalk">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cLeechHeat">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cLeechHeat">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUneFire">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cHeatDeath">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cNimbus">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cNimbus">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cConflag">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cFireSoul">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cFireLash">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    </thing>
  <thing id="cPyroKine" name="Pyrokineticist" description="Pyrokineticists, known more commonly as pyros, love working with and creating fire. It is their main motivation in most things they do. They have learned that by channeling psionic energy, they can create the beautiful flames they love so much, and they revel in the experience.\n\nAny character with psionic ability can become a pyrokineticst, although psions and wilders must sincerely be drawn to flame to give up the manifesting ability that comes with becoming a pyro. Soulknives may become pyromancers to gain the weapon afire ability to use with their mind blade.\n\n{b}Role:{/b} Since their area of expertise is manipulating and creating fire, pyrokineticists are best at dealing fiery damage to enemies. While they do have modest damage-dealing potential from afar, they are most suited at dealing damage in melee range.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpPyr"></bootstrap>
    <link linkage="helper" thing="cHelpPyr"/>
    <exprreq message="Craft (alchemy) 1 rank required."><![CDATA[#skillranks[skCrafAlch] >= 1]]></exprreq>
    <exprreq message="Power point reserve of 1 point required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    <exprreq message="Knowledge (psionics) 2 ranks required."><![CDATA[#skillranks[skPUKnwPsi] >= 2]]></exprreq>
    <exprreq message="Autohypnosis 5 ranks required"><![CDATA[#skillranks[skPUAhypno] >= 5]]></exprreq>
    </thing>
  <thing id="cFireLash" name="Fire Lash" description="A pyrokineticist gains the ability to fashion a 15-foot-long whip of fire from unstable ectoplasm as a move-equivalent action. She takes no damage from a fire lash she creates, and if she releases her hold, it immediately dissipates. The lash deals 1d8 points of fire damage to a target within 15 feet on a successful ranged touch attack. A pyrokineticist can take Weapon Focus and Weapon Specialization (if she otherwise meets the prerequisites) in conjunction with the fire lash, as well as any feats that apply to the use of a standard whip. The whip remains in existence as long as the pyrokineticist holds it and is treated for mechanical purposes as a whip.\n\nIf the character has the ability to fashion a mind blade and has the Altered Blade blade skill, her fire lash may be treated as her mind blade for mechanical purposes such as enhanced mind blade and other class abilities. All damage dealt by the mind blade in this form, including psychic strike damage and bonus damage from weapon abilities, is fire damage, and the pyrokineticist may not use the fire lash to perform disarm or trip attempts unless she has selected the appropriate Weapon Special blade skill." compset="ClSpecial">
    <tag group="AbilType" tag="PsiLike"/>
    <tag group="SpecType" tag="Attack"/>
    </thing>
  <thing id="cManipBlaz" name="Manipulate Blaze" description="Pyrokineticists learn not only how to fashion a whip of fire, but also how to manipulate existing fires. As a standard action, the pyrokineticist may manipulate one source of fire within close range (25 ft. + 5 ft. / 2 levels of pyrokineticist). The fire source is immediately extinguished upon being utilized. A fire so large that it exceeds a 20-foot cube is only partly extinguished. Magical fires are not extinguished, although a fire-based creature used as a source takes 1 point of damage per class level. The fire may be used for one of the following purposes:\n\n{i}Fireworks:{/i} The fire is turned into a blinding display of fireworks; a flashing, fiery, momentary burst of glowing, colored aerial lights. This effect causes creatures within 120 feet of the fire source to become blinded for 1d4+1 rounds (Will negates, DC 10 + &#189; class level + Charisma modifier). These creatures must have line of sight to the fire to be affected. Power resistance can prevent blindness.\n\n{i}Healing Heat:{/i} The pyrokineticist can convert the heat of the fire plus her own psionic power into a source of healing energy. For every power point the pyrokineticist spends, she heals 2 hp. Every 3 levels thereafter, the pyrokineticist heals one additional hit point per power point spent, to a maximum of 5 hp per 1 pp at 10th level.\n\n{i}Smoke Cloud:{/i} A stream of smoke billows out from the fire, forming a choking cloud that spreads 20 feet in all directions and lasts for 1 round per class level. All sight, even darkvision, is ineffective in or through the cloud. All within the cloud take &#150;4 penalties to Strength and Dexterity (Fortitude negates, DC 10 + &#189; class level + Charisma modifier). These effects last for 1d4+1 rounds after the cloud dissipates or after the creature leaves the area of the cloud. Power resistance does not apply.\n\nA pyrokineticist may use this ability a total of three times per day for any combination of the uses." compset="ClSpecial">
    <fieldval field="trkMax" value="3"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cFireAdapt" name="Fire Adaptation" description="At 2nd level, a pyrokineticist becomes resistant to fire, gaining a +4 bonus on all saving throws against fire and heat spells and effects. In addition, she gains resistance to fire 10. At 7th level, this bonus increases to +8, and her resistance to fire increases to 20." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecType" tag="Resist"/>
    <bootstrap thing="xDamRsFire"></bootstrap>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var reslevel as string
if (field[xIndex].value = 1) then
  levelname = "4"
  reslevel = "10"
elseif (field[xIndex].value = 2) then
  levelname = "8"
  reslevel = "20"
  endif

field[listname].text = "Fire Adaptation (+" & levelname & "/" & reslevel & ")"

field[CustDesc].text = "+" & levelname & " bonus to saves against fire and heat spells and effects."

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)


~Add fire resistance
#applyresist[xDamRsFire,reslevel]]]></eval>
    </thing>
  <thing id="cHandAfire" name="Hand Afire" description="A pyrokineticist of 2nd level or higher can activate this ability as a move-equivalent action. Flames engulf one of the pyrokineticist&apos;s hands (but do her no harm). Her unarmed attacks with that hand are treated as armed. Such attacks deal an extra 2d6 points of fire damage. This extra damage increases to 4d6 at 8th level." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="PsiLike"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var reslevel as string
if (field[xIndex].value = 1) then
  levelname = "2d6"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  endif

field[listname].text = "Hand Afire (+" & levelname & " fire damage)"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  endif

field[livename].text = "Hand Afire (+" & levelname & " fire damage) "]]></eval>
    </thing>
  <thing id="cBoltFire" name="Bolt of Fire" description="Starting at 3rd level, as a standard action, a pyrokineticist can launch a bolt of psionically manifested fire at any target in line of sight within 60 feet. This effect is treated as a ranged touch attack and deals 1d6 points of fire damage for each class level the pyrokineticist has." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="PsiLike"/>
    <bootstrap thing="xDamRsFire"></bootstrap>
    <eval phase="Final" priority="1000"><![CDATA[var numdice as number
var range as number

numdice = #levelcount[PyroKine]

field[abValue].value += 60

range = field[abValue].value

field[listname].text = "Bolt of Fire (" & numdice & "d6 ranged (" & range & "') touch)"

field[livename].text = "Bolt of Fire (" & numdice & "d6 ranged (" & range & "') touch) "]]></eval>
    </thing>
  <thing id="cWepAfire" name="Weapon Afire" description="At 4th level and higher, a pyrokineticist can activate this ability as a move-equivalent action. Flames that harm neither her nor the weapon engulf one weapon she holds (which can be a projectile such as a stone, bullet, arrow, or bolt). The weapon deals an extra 2d6 points of fire damage on a successful hit. The weapon retains this effect for as long as the pyrokineticist wields it. This extra damage increases to 4d6 at 8th level." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="PsiLike"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var reslevel as string
if (field[xIndex].value = 1) then
  levelname = "2d6"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  endif

field[listname].text = "Weapon Afire (+" & levelname & " fire damage)"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  endif

field[livename].text = "Weapon Afire (+" & levelname & " fire damage) "]]></eval>
    </thing>
  <thing id="cNimbus" name="Nimbus" description="Beginning at 5th level, a pyrokineticist can activate this ability as a move-equivalent action. Flames that harm neither the pyrokineticist nor her equipment engulf her entire body. While she is aflame, the character&apos;s Charisma score increases by 4, she can make a melee touch attack for 2d6 points of fire damage, and she gains damage reduction 5/magic. If she is struck in melee, the attacker takes 2d6 points of fire damage. This ability lasts for up to 1 minute per pyrokineticist level and is usable once per day. This extra damage increases to 4d6 at 8th level. \n\nThe touch attacks from this ability do not stack with the damage from hand afire." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="SpecType" tag="Aura"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="PsiLike"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string

if (field[xIndex].value = 1) then
  levelname = "2d6"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  endif

field[listname].text = "Ninbus (" & levelname & ")"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  endif

field[livename].text = "Nimbus (" & levelname & ") "]]></eval>
    </thing>
  <thing id="cFirewalk" name="Firewalk" description="Beginning at 6th level, as a free action a pyrokineticist can expend her psionic focus to literally walk on air. She moves at her normal speed in all directions, including vertically, but cannot move more than double her speed in a round. A firewalking pyrokineticist leaves footprints of flame in the air that disperse in 2 rounds, but her tread does not deal damage. She must pay 1 power point per round spent traveling in this fashion." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Movement"/>
    </thing>
  <thing id="cLeechHeat" name="Leech Heat" description="A pyrokineticist of 6th level gains the ability to steal the heat from a creature within 30 feet and channel it to herself, dealing 2d6 points of cold damage to the target and healing herself for 2 points of damage. At 9th level, the damage increases to 4d6 points of cold damage, and the healing the pyrokineticist receives increases to 4 points." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var points as string
if (field[xIndex].value = 1) then
  levelname = "2d6"
  points = "2"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  points = "4"
  endif

field[listname].text = "Leech Heat (" & levelname & " / " & points & ") "

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
  points = "2"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  points = "4"
  endif

field[livename].text = "Leech Heat (" & levelname & " / "& points & ") "]]></eval>
    </thing>
  <thing id="cPUneFire" name="Penetrating Fire" description="At 6th level, a pyrokineticist&apos;s abilities are more adept at striking through any defenses. The pyrokineticist&apos;s attacks reduce any fire resistance the target might have by the pyrokineticist&apos;s level for that attack." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHeatDeath" name="Heat Death" description="A pyrokineticist who reaches 9th level can expend her psionic focus and take a full attack action to raise the internal temperature of one living creature within 30 feet to lethal levels. The target must succeed on a Fortitude saving throw (DC 14 + pyrokineticist&apos;s Cha modifier) or its blood (or other internal fluid) begins to boil and the creature takes 4d8 points of fire damage from the heat (half on a successful save). Every round the target fails its save and the pyrokineticist maintains concentration as a standard action, the creature takes an additional 4d8 points of fire damage from the heat (half damage on a successful save). Creatures with fire resistance gain a +2 bonus on the saving throw, and creatures immune to fire are similarly immune to this attack." compset="ClSpecial">
    <tag group="AbilType" tag="PsiLike"/>
    </thing>
  <thing id="cConflag" name="Conflagration" description="At 10th level, a pyrokineticist gains the ability to create a massive burst of raging flames around herself, burning everything in the area. As a standard action, she can use this ability to deal 15d6 points of fire damage in a 30-foot-radius burst emanating from herself. Any creature or object caught in the burst can make a Reflex saving throw (DC 15 + pyrokineticist&apos;s Cha modifier) for half damage. Anyone failing the Reflex save against the conflag-ration must also make a Fortitude saving throw (same DC) or die due to extreme shock from the intense heat.\n\nAfter using this ability, the pyrokineticist must wait for at least 10 minutes before she is able to use it again." compset="ClSpecial">
    <tag group="AbilType" tag="PsiLike"/>
    </thing>
  <thing id="cFireSoul" name="Fire Soul" description="Once a pyrokineticist has reached 10th level, her body is able to shrug off the effects of flame, granting immunity to fire and fire-based effects. In addition, she may use nimbus two additional times per day." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xImmFire">
      <autotag group="Hide" tag="Special"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      if (#levelcount[PyroKine] >= 10) then
        perform hero.childfound[xImmFire].delete[Hide.Special]
        perform hero.childfound[xDamRsFire].assign[Hide.Special]
        endif

      hero.childfound[cNimbus].field[trkMax].value += 2]]></eval>
    </thing>
  <thing id="cHelpThh" name="Thrallherd" compset="Class" uniqueness="unique">
    <comment>Need to add Mind Control spell and Empathic Connection to Known list for their abilities</comment>
    <fieldval field="cAbbr" value="Thh"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="cHDSides" value="6"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="4" value="4"/>
    <arrayval field="cMagLevTot" index="5" value="5"/>
    <arrayval field="cMagLevTot" index="6" value="6"/>
    <arrayval field="cMagLevTot" index="7" value="7"/>
    <arrayval field="cMagLevTot" index="8" value="8"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="Classes" tag="Thrallher" name="Thrallherd"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ExtraLev1" tag="Manifester"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cEmpathCon">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cMindCont">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cMindContG">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cMindContS">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cExpandedC">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cTwofoldMa">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cThrall">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    </thing>
  <thing id="cThrallher" name="Thrallherd" description="Thrallherds send out a resonating psychic call, a call that urges those who may be actively or subconsciously seeking someone to guide them, control them, or lead them to come to the thrallherd. These followers of the thrallherd are completely loyal fanatics who will follow the thrallherd&apos;s instructions completely. As a result, thrallherds tend to have large retinues that can either stay close to the thrallherd, go out and perform varied tasks, or even stay behind and manage the thrallherd&apos;s residence.\n\nDue to the nature of the thrallherds, telepaths are the most common characters to enter this class. Other manifesters can also become thrallherds, but typically have to pay a higher cost in character options.\n\n{b}Role:{/b} The thrallherd focuses on utilizing mind control and getting others to do her bidding. She acts more as a director, letting her thrall and her believers perform the activities, while she stays back and monitors.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpThh"></bootstrap>
    <link linkage="helper" thing="cHelpThh"/>
    <exprreq message="Diplomacy 4 ranks required."><![CDATA[#skillranks[skDiplo] >= 4]]></exprreq>
    <exprreq message="Manifester level 5th required."><![CDATA[tagcount[Hero.Manifester] >= 5]]></exprreq>
    <exprreq message="Knowledge (Psionics) 5 ranks required."><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    <prereq message="Inquisitor feat or Skill Focus (Diplomacy) feat required.">
      <validate><![CDATA[if (#hasfeat[fPUInquis] + childfound[skDiplo].tagis[Helper.SkillFocus] >= 1 )then
       @valid = 1
       done
     endif]]></validate>
      </prereq>
    </thing>
  <thing id="cThrall" name="Thrallherd" description="A thrallherd who has just entered the class sends out a subtle psychic call for servants, and that call is answered. Essentially, the character gains something akin to the Leadership feat, but with some important differences. \n\nThose who answer a thrallherd&apos;s call are not referred to as cohorts and followers, but rather as thralls and believers, respectively. They do not appear because they admire the character and want to serve her, but because a hidden psychic resonance connects the thrallherd and her servants.\n \nAs with the Leadership feat, a thrallherd has a Leadership score that determines the highest-level thrall and believers she can attract. A thrallherd&apos;s Leadership score is equal to her character level + her Charisma modifier + her thrallherd level. (Note that her thrallherd level is counted twice.) This score is not affected by any of the modifiers mentioned in the Leadership feat.\n\nAs with the Leadership feat, the called thrall&apos;s level is limited, even if the character&apos;s Leadership score would indicate a higher-level thrall. Unlike with the Leadership feat, the level limit of a thrall is equal to the character&apos;s total level minus 1 (not level minus 2, as is true for cohorts).\n\nA thrallherd cannot take the Leadership feat; if the character already has it, the feat is lost and replaced by this ability; those who were previously cohorts and followers go their separate ways, and those who are more mentally pliable show up later to take up roles as thralls and believers. A thrallherd&apos;s thrall and believers arrive within 24 hours. Lost thralls are replaced within 24 hours. Believers arrive and are replaced at a rate of the thrallherd&apos;s leadership score per day, with the lowest level believers arriving first. If the thrallherd is in a location where thralls and believers cannot reach, none arrive until she moves to a location where she can be reached.\n\nA thrallherd establishes a resonance with his thrall and suffers if the thrall is killed. For 48 hours following the loss of a thrall, a thrallherd suffers one negative level. This negative level may not be healed by any means until 48 hours have passed since the thrall&apos;s death, at which point it fades naturally. Should the thrallherd&apos;s new thrall die while the thrallherd is still suffering a negative level, he acquires an additional negative level, and the duration of any negative levels gained through losing a thrall resets to 48 hours from the time the most recent thrall was lost.\n\nUse the above table instead of the one with the Leadership feat to determine the level of a thrallherd&apos;s thrall and the number of believers of various levels a thrallherd can attract." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cAlluringV" name="Alluring Voice" description="At 2nd level, the thrallherd gains a +2 bonus to her choice of Bluff, Diplomacy, Intimidate or Sense Motive skill checks. At every 2 levels thereafter, she gains an additional +2 bonus that can either be applied to the same skill, or to another skill on the list. For example, a 6th level thrallherd could have a +6 bonus to just Diplomacy, or a +2 bonus to Bluff, Diplomacy, and Intimidate, or a +2 bonus to Bluff and a +4 bonus to Diplomacy. Once this choice is made, it cannot be changed." compset="ClSpecial">
    <fieldval field="usrCandid1" value="thingid.skBluff|thingid.skDiplo|thingid.skIntim|thingid.skSenseMot"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[~ If we're disabled, just get out now
doneif (tagis[Helper.SpcDisable] <> 0)

var myString as string

myString = "thingid." & field[usrChosen1].chosen.idstring

if (field[usrChosen1].ischosen <> 0) then  
  foreach pick in hero where myString
    eachpick.field[Bonus].value += 2
    nexteach
endif]]></eval>
    </thing>
  <thing id="cEmpathCon" name="Empathic Connection" description="At 3rd level, a thrallherd adds empathic connection to her powers known. If she already knows empathic connection she can instead add a Telepathy power available to her powers known. Once per day, she can manifest empathic connection at a reduced power point cost. The cost of empathic connection is reduced by the thrallherd&apos;s level, to a minimum of 1 power point. The effect of this power is still restricted by the thrallherd&apos;s manifester level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="1000">~perform hero.assign[spEmpConn1]</eval>
    </thing>
  <thing id="cMindCont" name="Mind Control" description="At 3rd level, a thrallherd adds mind control to her powers known. If she already knows empathic connection she can instead add a Telepathy power available to her powers known. Once per day, she can manifest mind control at a reduced power point cost. The cost of mind control is reduced by the thrallherd&apos;s level, to a minimum of 1 power point. The effect of this power is still restricted by the thrallherd&apos;s manifester level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="1000">~perform hero.assign[spEmpConn1]</eval>
    </thing>
  <thing id="cMindContG" name="Greater Mind Control" description="At 7th level and higher, a thrallherd does not have to pay 2 additional power points when she augments mind control to affect animals, fey, giants, magical beasts, and monstrous humanoids. This reduced point cost does not increase the save DC of the power as if she had spent the additional power points." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cMindContS" name="Superior Mind Control" description="At 9th level, a thrallherd does not have to pay 4 additional power points when she augments mind control to affect aberrations, dragons, elementals, and outsiders (in addition to the creature types mentioned in the greater mind control ability). This reduced point cost does not increase the save DC of the power as if she had spent the additional power points." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cExpandedC" name="Expanded Call" description="At 10th level, the thrallherd&apos;s ability to bring forth servants improves as indicated on the following table." compset="ClSpecial"></thing>
  <thing id="cTwofoldMa" name="Twofold Master" description="At 10th level, a thrallherd adds a second thrall to her herd. This second thrall&apos;s maximum level is equal to the thrallherd&apos;s level minus 2, even if her Leadership score would indicate a higher level thrall. The thrallherd suffers a negative level penalty for 48 hours if her second thrall dies, just like the penalty if her first thrall dies. These negative levels stack if both thralls die." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cHelpWMn" name="War Mind" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="WMn"/>
    <fieldval field="cSkills" value="2"/>
    <arrayval field="cPsiPPTot" index="0" value="2"/>
    <arrayval field="cPsiPPTot" index="1" value="5"/>
    <arrayval field="cPsiPPTot" index="2" value="9"/>
    <arrayval field="cPsiPPTot" index="3" value="14"/>
    <arrayval field="cPsiPPTot" index="4" value="20"/>
    <arrayval field="cPsiPPTot" index="5" value="28"/>
    <arrayval field="cPsiPPTot" index="6" value="37"/>
    <arrayval field="cPsiPPTot" index="7" value="47"/>
    <arrayval field="cPsiPPTot" index="8" value="58"/>
    <arrayval field="cPsiPPTot" index="9" value="70"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="2"/>
    <arrayval field="cPsiPowTot" index="3" value="3"/>
    <arrayval field="cPsiPowTot" index="4" value="3"/>
    <arrayval field="cPsiPowTot" index="5" value="4"/>
    <arrayval field="cPsiPowTot" index="6" value="4"/>
    <arrayval field="cPsiPowTot" index="7" value="5"/>
    <arrayval field="cPsiPowTot" index="8" value="5"/>
    <arrayval field="cPsiPowTot" index="9" value="6"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="3"/>
    <arrayval field="cPsiLevTot" index="6" value="3"/>
    <arrayval field="cPsiLevTot" index="7" value="4"/>
    <arrayval field="cPsiLevTot" index="8" value="4"/>
    <arrayval field="cPsiLevTot" index="9" value="5"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skKnowHist"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="cRef" tag="Good"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="Classes" tag="Warmind" name="Warmind"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="cFort" tag="Good"/>
    <tag group="AlgnForbid" tag="Chaotic"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <bootstrap thing="cWellPower">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cSweepStr">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cChainOver">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cChainPerS">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cChainPerS">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cWarrJourn">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cChainDefP">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cChainDefP">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cEndurBod">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cEndurBod">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cEndurBod">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <link linkage="spellattr" thing="aWIS"/>
    <link linkage="psiattr" thing="aWIS"/>
    </thing>
  <thing id="cWarmind" name="War Mind" description="War minds are almost unequalled experts of an incredibly powerful combat technique that melds the body and mind into one perfect warrior. They achieve this through studying ancient techniques known as the chains of war. Some study under the guidance of a single war mind, often in the role of apprentice and master; some choose to find this path through meditation and intense studies of the Codex of War, an ancient but well-respected tome that teaches the necessary mindset and training to awaken the chains of war in a psionically talented warrior.\n\nPsychic warriors and soulknives are the most common to study the Codex of War and become war minds, although any character with psionic power can become a war mind.\n\n{b}Role:{/b} A war mind will stand at the front lines of a battle, meting out punishment and enduring the onslaught of enemies. He excels at melee combat and uses his manifesting ability to enhance his martial prowess.\n\n{b}Alignment:{/b} Any non-chaotic.\n\n{b}Special:{/b} Must have had some instruction by another war mind, have access to the Codex of War, or belong to an organization that has access to the Codex of War." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpWMn"></bootstrap>
    <link linkage="helper" thing="cHelpWMn"/>
    <exprreq message="Power Point reserve of 1 PP required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    <exprreq message="Knowledge (History) 2 ranks required"><![CDATA[#skillranks[skKnowHist] >= 2]]></exprreq>
    <exprreq message="BAB 3+ required."><![CDATA[child[Attack].field[tAtkBase].value >= 3]]></exprreq>
    <exprreq message="Knowledge (Psionics) 5 ranks required"><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    </thing>
  <thing id="cChainPerS" name="Chain of Personal Superiority" description="At 1st level, a war mind learns the first principle of warfare for the individual combatant: the ability to both deal punishment and take it. Calling upon inner reserves of knowledge and dedication, a war mind can provide himself with a +2 insight bonus to Strength and Constitution for up to 1 minute. A war mind can use this power three times per day. Activating this power is a free action. At 7th level, the insight bonus to Strength and Constitution improves to +4." compset="ClSpecial" summary="Insight bonus to STR and CON for a limited time.">
    <fieldval field="trkMax" value="3"/>
    <fieldval field="actName" value="Personal Superiority"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string

if (field[xIndex].value = 1) then
  levelname = "2"
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  levelname = "4"
  field[abValue].value += 4
  endif

field[listname].text = "Chain of Personal Superiority (+" & levelname & ") "
field[actName].text = "Personal Superiority (+" & levelname & " STR & CON) " 

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2"
elseif (field[xCount].value = 2) then
  levelname = "4"
  endif

field[livename].text = "Chain of Personal Superiority (+" & levelname & ") "]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

var levelname as string
var bonus as number

if (field[xIndex].value = 1) then
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  field[abValue].value += 4
  endif

bonus = field[abValue].value

~If activated, add bonus to STR and CON
if (field[abilActive].value <> 0) then
  hero.child[aSTR].field[BonInsight].value += bonus 
  hero.child[aCON].field[BonInsight].value += bonus
  endif]]></eval>
    </thing>
  <thing id="cWarrJourn" name="Warrior&apos;s Journey" description="If the war mind previously had manifesting in the psychic warrior class, instead of gaining the war mind&apos;s exclusive psionic manifestation abilities, he can choose to instead increase his psychic warrior manifesting level. If he does so, the war mind gains additional power points per day and access to new powers as if he had also gained a level in psychic warrior. He does not, however, gain any other benefit a character of that class would have gained (bonus feats, improved trances and maneuvers, and so on). This essentially means that he adds the level of war mind to the level of psychic warrior, then determines power points per day, powers known, and manifester level accordingly." compset="ClSpecial">
    <fieldval field="usrChkText" value="Psychic Warrior?"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="Custom" tag="WMndBonPP" name="War Mind Bonus PP"/>
    <eval phase="PostAttr" priority="1000" index="2"><![CDATA[if (hero.tagcount[Custom.WMndBonPP] > 0) then
  ~ Add bonus power points based on WIS Modifier
  var bonus as number
  var effLevel as number

  effLevel = #levelcount[Warmind]
 
  bonus = (#attrmod[aWIS] - 1) * (effLevel/2)
  bonus = round(bonus,0,-1)

  root.field[cPsiPPMax].value += bonus
  endif]]></eval>
    <eval phase="UserFirst" priority="1000"><![CDATA[
~If 
if (field[usrIsCheck].value <> 0) then
  perform root.assign[Helper.HasExtraMg]
  perform hero.delete[Hero.Psionic]
  perform hero.delete[Custom.WMndBonPP]

  ~notify "Manifesting as Psychic Warrior"
  root.field[cMagLevTot].arrayvalue[0] = 1
  root.field[cMagLevTot].arrayvalue[1] = 2
  root.field[cMagLevTot].arrayvalue[2] = 3
  root.field[cMagLevTot].arrayvalue[3] = 4
  root.field[cMagLevTot].arrayvalue[4] = 5
  root.field[cMagLevTot].arrayvalue[5] = 6
  root.field[cMagLevTot].arrayvalue[6] = 7
  root.field[cMagLevTot].arrayvalue[7] = 8
  root.field[cMagLevTot].arrayvalue[8] = 9
  root.field[cMagLevTot].arrayvalue[9] = 10

  ~negate native casting
  ~Add PP/Day
  root.field[cPsiPPTot].arrayvalue[0] -= 2
  root.field[cPsiPPTot].arrayvalue[1] -= 5
  root.field[cPsiPPTot].arrayvalue[2] -= 9
  root.field[cPsiPPTot].arrayvalue[3] -= 14
  root.field[cPsiPPTot].arrayvalue[4] -= 20
  root.field[cPsiPPTot].arrayvalue[5] -= 28
  root.field[cPsiPPTot].arrayvalue[6] -= 37
  root.field[cPsiPPTot].arrayvalue[7] -= 47
  root.field[cPsiPPTot].arrayvalue[8] -= 58
  root.field[cPsiPPTot].arrayvalue[9] -= 70

  ~Add Max Level Known
  root.field[cPsiLevTot].arrayvalue[0] -= 1
  root.field[cPsiLevTot].arrayvalue[1] -= 1
  root.field[cPsiLevTot].arrayvalue[2] -= 1
  root.field[cPsiLevTot].arrayvalue[3] -= 2
  root.field[cPsiLevTot].arrayvalue[4] -= 2
  root.field[cPsiLevTot].arrayvalue[5] -= 3
  root.field[cPsiLevTot].arrayvalue[6] -= 3
  root.field[cPsiLevTot].arrayvalue[7] -= 4
  root.field[cPsiLevTot].arrayvalue[8] -= 4
  root.field[cPsiLevTot].arrayvalue[9] -= 5

  ~Add Max Powers Known
  root.field[cPsiPowTot].arrayvalue[0] -= 1
  root.field[cPsiPowTot].arrayvalue[1] -= 2
  root.field[cPsiPowTot].arrayvalue[2] -= 2
  root.field[cPsiPowTot].arrayvalue[3] -= 3
  root.field[cPsiPowTot].arrayvalue[4] -= 3
  root.field[cPsiPowTot].arrayvalue[5] -= 4
  root.field[cPsiPowTot].arrayvalue[6] -= 4
  root.field[cPsiPowTot].arrayvalue[7] -= 5
  root.field[cPsiPowTot].arrayvalue[8] -= 5
  root.field[cPsiPowTot].arrayvalue[9] -= 6
  
else
  perform hero.assign[Hero.Psionic]
  perform hero.assign[Custom.WMndBonPP]

  ~Add PP/Day
  root.field[cPsiPPTot].arrayvalue[0] = 2
  root.field[cPsiPPTot].arrayvalue[1] = 5
  root.field[cPsiPPTot].arrayvalue[2] = 9
  root.field[cPsiPPTot].arrayvalue[3] = 14
  root.field[cPsiPPTot].arrayvalue[4] = 20
  root.field[cPsiPPTot].arrayvalue[5] = 28
  root.field[cPsiPPTot].arrayvalue[6] = 37
  root.field[cPsiPPTot].arrayvalue[7] = 47
  root.field[cPsiPPTot].arrayvalue[8] = 58
  root.field[cPsiPPTot].arrayvalue[9] = 70

  ~Add Max Level Known
  root.field[cPsiLevTot].arrayvalue[0] = 1
  root.field[cPsiLevTot].arrayvalue[1] = 1
  root.field[cPsiLevTot].arrayvalue[2] = 1
  root.field[cPsiLevTot].arrayvalue[3] = 2
  root.field[cPsiLevTot].arrayvalue[4] = 2
  root.field[cPsiLevTot].arrayvalue[5] = 3
  root.field[cPsiLevTot].arrayvalue[6] = 3
  root.field[cPsiLevTot].arrayvalue[7] = 4
  root.field[cPsiLevTot].arrayvalue[8] = 4
  root.field[cPsiLevTot].arrayvalue[9] = 5

  ~Add Max Powers Known
  root.field[cPsiPowTot].arrayvalue[0] = 1
  root.field[cPsiPowTot].arrayvalue[1] = 2
  root.field[cPsiPowTot].arrayvalue[2] = 2
  root.field[cPsiPowTot].arrayvalue[3] = 3
  root.field[cPsiPowTot].arrayvalue[4] = 3
  root.field[cPsiPowTot].arrayvalue[5] = 4
  root.field[cPsiPowTot].arrayvalue[6] = 4
  root.field[cPsiPowTot].arrayvalue[7] = 5
  root.field[cPsiPowTot].arrayvalue[8] = 5
  root.field[cPsiPowTot].arrayvalue[9] = 6
endif]]></eval>
    </thing>
  <thing id="cChainDefP" name="Chain of Defensive Posture" description="At 2nd level, a war mind learns the second principle of warfare for the individual combatant: the ability to avoid the enemy&apos;s counterattacks if that enemy is not immediately overwhelmed. Calling upon inner reserves of knowledge and dedication, a war mind can provide himself with a +2 insight bonus to Armor Class for up to 1 minute. A war mind can use this power three times per day. Activating this power is a free action. At 8th level, the insight bonus to Armor Class improves to +4." compset="ClSpecial" summary="Insight bonus to AC for a limited time.">
    <fieldval field="trkMax" value="3"/>
    <fieldval field="actName" value="Personal Superiority"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string

if (field[xIndex].value = 1) then
  levelname = "2"
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  levelname = "4"
  field[abValue].value += 4
  endif

field[listname].text = "Chain of Defensive Posture (+" & levelname & ") "
field[actName].text = "Defensive Posture (+" & levelname & " AC) " 
field[CustDesc].text = "+" & levelname & "insight bonus to AC"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2"
elseif (field[xCount].value = 2) then
  levelname = "4"
  endif

field[livename].text = "Chain of Personal Superiority (+" & levelname & ") "]]></eval>
    <eval phase="PreAttr" priority="10000" index="2"><![CDATA[var levelname as string
var bonus as number

if (field[xIndex].value = 1) then
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  field[abValue].value += 4
  endif

bonus = field[abValue].value

~If activated, add insight bonus to AC
if (field[abilActive].value <> 0) then
  hero.child[ArmorClass].field[tACMisc].value += bonus 
  endif]]></eval>
    </thing>
  <thing id="cEndurBod" name="Enduring Body" description="At 3rd level, a war mind learns the third principle of warfare for the individual combatant: to unleash in oneself the spirit of the enduring body. The spirit of the ideal body transforms a war mind, granting him damage reduction 1/&#150;. At 6th level, his damage reduction improves to 2/&#150;. At 9th level, his damage reduction improves to 3/&#150;." compset="ClSpecial" summary="Damage Reduction against weapons and natural attacks.">
    <fieldval field="actName" value="Has Psionic Focus?"/>
    <tag group="SpecType" tag="DR" name="Damage Reduction" abbrev="Damage Reduction"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xDamRd">
      <autotag group="SpecSource" tag="cHelpBbn"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[field[listname].text = "Enduring Body (DR: " & field[xIndex].value & "/-)"

  ~These calculations should only happen for the first copy
  doneif (tagis[Helper.FirstCopy] = 0)

  ~ If we're not shown, just get out now
  doneif (tagis[Helper.ShowSpec] = 0)

  field[abValue].value += field[xCount].value
  field[CustDesc].text = "Damage Reduction (" & field[abValue].value & ") against weapons and natural attacks."

  hero.child[xDamRd].field[abValue].value = maximum(hero.child[xDamRd].field[abValue].value, field[abValue].value)]]></eval>
    </thing>
  <thing id="cWellPower" name="Well of Power" description="At 4th level, a war mind can tap his psionic energy to use chain of personal superiority or chain of defensive posture more than would normally be possible. If he has already expended all of his daily uses of either chain of personal superiority or chain of defense posture, he may spend 4 power points to gain an additional use of either ability. He can do this as many times as he wants in a day, provided he has power points left. At 10th level, he can expend his psionic focus and pay 10 power points to gain an additional daily use of chain of overwhelming force if he has already expended his daily use." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cSweepStr" name="Sweeping Strike" description="At 5th level, a war mind gains the ability to make great, sweeping swings with a melee weapon. On each melee attack a war mind makes, he can choose squares he threatens that are adjacent to each other, and his attacks apply to creatures in those two squares equally. A war mind can use this ability on any attack, even an attack of opportunity or a cleave attempt.\n\nA war mind cannot use this ability if he has moved more than 10 feet since the end of his last turn. If a war mind hits one or both of his foes with a sweeping strike, he can attempt a cleave normally; however, he makes only one cleave attempt per sweeping strike, even if he successfully hits more than one foe." compset="ClSpecial" summary="Attack two adjacent threatened squares with melee attack.">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cChainOver" name="Chain of Overwhelming Force" description="At 10th level, a war mind learns the fourth principle of warfare for the individual combatant: to discover the underlying violence of the world and deliver it in a perfectly executed attack.\n\nThe war mind taps into this underlying energy and apply it to a single melee attack, dealing an extra 10d6 points of damage. A war mind can use this power once per day. Activating this power is part of the attack action. If the attack misses, the power is wasted." compset="ClSpecial" summary="Once per day, deal extra 10d6 damage with single attack.">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPWaBraEP" name="Expanded Path (Brawling)" description="The psychic warrior expands his understanding of his chosen path. From this point on, he can use the Trance and Maneuver associated with his chosen path." compset="ClSpecial" summary="Gain the trance and maneuver from your path.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="UseOwnLev"/>
    <eval phase="Final" priority="10000"><![CDATA[if (hero.tagcount[Classes.PsychicWar] >= 9) then
        field[livename].text = "Way of the Warrior (Brawling)"
        field[listname].text = "Way of the Warrior (Brawling)"
        field[abSumm].text = "The psychic warrior can choose to use the Trance and Maneuver from his second warrior's path, but may only benefit from one Trance at a time."
    endif]]></eval>
    </thing>
  <thing id="cPWaFWaEP" name="Expanded Path (Feral Warrior)" description="The psychic warrior expands his understanding of his chosen path. From this point on, he can use the Trance and Maneuver associated with his chosen path." compset="ClSpecial" summary="Gain the trance and maneuver from your path.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="UseOwnLev"/>
    <eval phase="Final" priority="10000"><![CDATA[if (hero.tagcount[Classes.PsychicWar] >= 9) then
        field[livename].text = "Way of the Warrior (Feral Warrior)"
        field[listname].text = "Way of the Warrior (Feral Warrior)"
        field[abSumm].text = "The psychic warrior can choose to use the Trance and Maneuver from his second warrior's path, but may only benefit from one Trance at a time."
    endif]]></eval>
    </thing>
  <thing id="cPWaMndEP" name="Expanded Path (Mindknight)" description="The psychic warrior expands his understanding of his chosen path. From this point on, he can use the Trance and Maneuver associated with his chosen path." compset="ClSpecial" summary="Gain the trance and maneuver from your path.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="UseOwnLev"/>
    <eval phase="Final" priority="10000"><![CDATA[if (hero.tagcount[Classes.PsychicWar] >= 9) then
        field[livename].text = "Way of the Warrior (Mindknight)"
        field[listname].text = "Way of the Warrior (Mindknight)"
        field[abSumm].text = "The psychic warrior can choose to use the Trance and Maneuver from his second warrior's path, but may only benefit from one Trance at a time."
    endif]]></eval>
    </thing>
  <thing id="cPWaWpnEP" name="Expanded Path (Weaponmaster)" description="The psychic warrior expands his understanding of his chosen path. From this point on, he can use the Trance and Maneuver associated with his chosen path." compset="ClSpecial" summary="Gain the trance and maneuver from your path.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="UseOwnLev"/>
    <eval phase="Final" priority="10000"><![CDATA[if (hero.tagcount[Classes.PsychicWar] >= 9) then
        field[livename].text = "Way of the Warrior (Weaponmaster)"
        field[listname].text = "Way of the Warrior (Weaponmaster)"
        field[abSumm].text = "The psychic warrior can choose to use the Trance and Maneuver from his second warrior's path, but may only benefit from one Trance at a time."
    endif]]></eval>
    </thing>
  <thing id="cPsiBonusF" name="Bonus Feat" description="At 2nd level and every five psion levels thereafter, you gain a bonus feat. You must choose a metapsionic feat, an item creation feat, Expanded Knowledge, or Extra Power Known. You must still meet all prerequisites for the bonus feat, including minimum manifester level requirements. These bonus feats are in addition to the feats that a character of any class gets from advancing levels. You are not limited to the categories of item creation feats, metapsionic feats, or Expanded Knowledge when choosing those feats." compset="ClSpecial"></thing>
  <thing id="cWPaAscPri" name="Ascetic&apos;s Path" description="You have studied with the mystics of the ancient temples, sat silent for a week embracing the solitude and isolation, so as to become more in tune with your body and mind, merging them into a single, dangerous, warrior.\n\n{b}Bonus Class Skill{/b}: Knowledge (religion)\n\n{b}Powers{/b}: {i}Defensive precognition, offensive precognition{/i}\n\n{b}Skills{/b}: Acrobatics, Autohypnosis, Knowledge (religion)\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Ascetic&apos;s Path" uniqueness="useronce">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ClsAllowPs" tag="puPrecogD1"/>
    <tag group="ClsAllowPs" tag="puPrecogO1"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="PathSkill" tag="skPUAhypno"/>
    <tag group="PathSkill" tag="skKnowRel"/>
    <tag group="ClassSkill" tag="skKnowRel"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <bootstrap thing="cPWaManAsc"></bootstrap>
    <bootstrap thing="cPWaTraAsc"></bootstrap>
    <bootstrap thing="puPrecogD1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="puPrecogO1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPWaTraAsc" name="Trance (Ascetic Path)" description="Beginning at 3rd level, while maintaining psionic focus and wearing no or light armor, you gain gain a +1 competence bonus to your AC or saves, chosen at the time you gain psionic focus. This bonus increases by 1 every four psychic warrior levels thereafter." compset="ClSpecial" summary="When psi-focused you gain a competence bonus to saves or AC.">
    <arrayval field="usrArray" index="1" value="Saves"/>
    <arrayval field="usrArray" index="0" value="Armor Class"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ If we are Heavy/Medium encumbered get out now
      doneif (hero.tagis[Encumbered.Heavy] + hero.tagis[Encumbered.Medium] <> 0)
      ~ If Not psionically focused get out now
      doneif (hero.tagis[Hero.PsiFocus] <> 1)
      ~ If not active get out now
      doneif (field[abilActive].value <> 1)

      ~ Array 0 is Armor Class
      If (field[usrIndex].value = 0) Then
        #applybonus[BonComp,hero.child[ArmorClass],field[abValue].value]
      ~..Array 1 is Saves
      ElseIf (field[usrIndex].value = 1) Then
        #applybonus[BonComp,hero.child[svAll],field[abValue].value]
      Endif]]></eval>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManAsc" name="Maneuver (Ascetic Path)" description="Beginning at 3rd level, as an immediate action, you can expend your psionic focus to gain a +2 dodge bonus to your AC until the beginning of your next turn. This bonus increases by +1 for every five psychic warrior levels you have.{br}{br}In addition, if you did this in response to an attack and that attack misses you, you may take a 5-foot step as part of this action." compset="ClSpecial">
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
    Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaPathPo" name="Path Power" description="When manifesting this power, called a path power, the psychic warrior can either choose to manifest it for no cost by expending his psionic focus, in which case it cannot be augmented, or he can choose to manifest it normally, in which case his effective manifester level for this power is treated as one higher than normal." compset="ClSpecial" summary="Gain a bonus power related to your path.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If Power tags then build search list
      If (tagcount[ClsAllowPs.?] <> 0) Then
        ~ Set drop down list of powers based on the Target
        ~ tags forwarded to us from the Custom Ability
        field[usrCandid1].text = "component.BasePower & PsyWarrior.PathPower & Hide.Power & (" & tagids[ClsAllowPs.?,"|"] & ")"
      Endif

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we have not chosen then get out now
      doneif (field[usrChosen1].ischosen <> 1)

      ~ Remove the Hide Power Tag from the power chosen
      perform field[usrChosen1].chosen.delete[Hide.Power]
      ~ Set Livename to include Path so gamers know this is a path power
      field[usrChosen1].chosen.field[livename].text = field[usrChosen1].chosen.field[name].text & " (Path)"]]></eval>
    </thing>
  <thing id="cWPaAssPri" name="Assassin&apos;s Path" description="While others prefer to stand boldly in the face of danger, your preferred weapon is stealth and silence. When you attack, your enemy is bound to fall.\n\n{b}Bonus Class Skill{/b}: Stealth\n\n{b}Powers{/b}: {i}Distract, prevenom{/i} or {i}prevenom weapon{/i}\n\n{b}Skills{/b}: Acrobatics, Perception, Stealths\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Assassin&apos;s Path" uniqueness="useronce">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="PathSkill" tag="skStealth"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="PathSkill" tag="skPercep"/>
    <tag group="ClsAllowPs" tag="puDistrac1"/>
    <tag group="ClsAllowPs" tag="puPrevenm1"/>
    <tag group="ClsAllowPs" tag="puPreVenW1"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="puPrevenm1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="puPreVenW1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="cPWaTraAss"></bootstrap>
    <bootstrap thing="cPWaManAss"></bootstrap>
    <bootstrap thing="puDistrac1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPWaTraAss" name="Trance (Assassin&apos;s Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus on attack rolls.  This bonus increases by 1 every 4 levels thereafter." compset="ClSpecial" summary="When psi-focused you gain a competence bonus to attack rolls.">
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ If Not psionically focused get out now
      doneif (hero.tagis[Hero.PsiFocus] <> 1)
      ~ If not active get out now
      doneif (field[abilActive].value <> 1)

      ~ Melee bonus
      #applybonus[atmBonComp,hero.child[Attack],field[abValue].value]
      ~ Range bonus
      #applybonus[atrBonComp,hero.child[Attack],field[abValue].value]]]></eval>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManAss" name="Maneuver (Assassin&apos;s Path)" description="Beginning at 3rd level, any time you strike an enemy with a melee attack and there are no other enemies adjacent to you, you can expend your psionic focus to deal an additional +2d6 damage. For every five psychic warrior levels you gain thereafter, this damage increases by +1d6. This damage is precision-based damage." compset="ClSpecial">
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the number of dice
      If (field[xTotalLev].value >= 8) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 13) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 18) Then
        field[abValue].value += 1
      Endif
      ~ Set live name to include the bonus damage
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value) & "d" & field[abValue2].value]]></eval>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    </thing>
  <thing id="cWPaBraPri" name="Brawling Path" description="You bring the combat to your enemy - up into his face. Your powers allow you to overpower enemies and bring them to bear, either to bring justice to them, or to finish them off when they are out.\n\n{b}Bonus Class Skill{/b}: Escape Artist\n\n{b}Powers{/b}: Grip of iron, hammer\n\n{b}Skills{/b}: Acrobatics, Autohypnosis, Escape Artist\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Brawler&apos;s Path" uniqueness="unique">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="PathSkill" tag="skPUAhypno"/>
    <tag group="PathSkill" tag="skEscape"/>
    <tag group="ClsAllowPs" tag="puGripIrn1"/>
    <tag group="ClsAllowPs" tag="puHammer1"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <bootstrap thing="puHammer1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="cPWaTraBra"></bootstrap>
    <bootstrap thing="cPWaManBra"></bootstrap>
    <bootstrap thing="puGripIrn1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      </bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPWaTraBra" name="Trance (Brawler&apos;s Path)" description="Beginning at 3rd level, while maintaining psionic focus, each time you make a successful grapple check, you can deal damage to that enemy equal to your Wisdom modifier." compset="ClSpecial" summary="When psi-focused and make a successful grapple you deal">
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += #attrmod[aWIS]

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ Set Summary
      field[abSumm].text = "When psi-focused and make a successful grapple you deal " & signed(field[abValue].value) & " dmg."]]></eval>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManBra" name="Maneuver (Brawler&apos;s Path)" description="{b}Maneuver{/b}: Beginning at 3rd level, as a swift action you can expend your psionic focus to cause an enemy you are grappling to take 2d6 non-lethal damage. For every two psychic warrior levels you gain thereafter, the damage increases by 1d6." compset="ClSpecial">
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the number of dice
      If (field[xTotalLev].value >= 5) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 9) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 13) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 17) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif
      ~ Set live name to include the bonus damage
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value) & "d" & field[abValue2].value]]></eval>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    </thing>
  <thing id="cWPaFWaPri" name="Feral Warrior&apos;s Path" description="You are the beast incarnate, the animal made flesh. You channel your rage and power into physically transforming yourself into the likeness of a monster.\n\n{b}Bonus Class Skill{/b}: Survival\n\n{b}Powers{/b}:  Bite of the wolf, claws of the beast\n\n{b}Skills{/b}: Acrobatics, Perception, Survival\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Feral Warrior&apos;s Path" uniqueness="unique">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="PathSkill" tag="skPercep"/>
    <tag group="PathSkill" tag="skSurvival"/>
    <tag group="ClsAllowPs" tag="puBiteWlf1"/>
    <tag group="ClsAllowPs" tag="puClawBea1"/>
    <bootstrap thing="cPWaManFer"></bootstrap>
    <bootstrap thing="puBiteWlf1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="puClawBea1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="cPWaTraFer"></bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPWaTraFer" name="Trance (Feral Warrior&apos;s Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus to your attack rolls on attacks made with natural weapons. This bonus increases by 1 every four psychic warrior levels you gain thereafter." compset="ClSpecial" summary="When psi-focused gain a competence bonus to attack with natural weapons.">
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ If Not psionically focused get out now
      doneif (hero.tagis[Hero.PsiFocus] <> 1)
      ~ If not active get out now
      doneif (field[abilActive].value <> 1)

      ~ Give bonus to attack with Natural Weapons
      foreach pick in hero from BaseWep where "wGroup.Natural"  
        ~ Melee bonus
        #applybonus[atmBonComp,eachpick,field[abValue].value]
        ~ Range bonus
        #applybonus[atrBonComp,eachpick,field[abValue].value]
      nexteach]]></eval>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManFer" name="Maneuver (Feral Warrior&apos;s Path)" description="{b}Maneuver{/b}: Beginning at 3rd level, you can expend your psionic focus when use the charge action. If you do, you can make one additional attack at the end of your charge instead of making a single melee attack, but each attack suffers a -2 penalty to the attack roll. In addition, you gain a +1 competence bonus to any damage rolls made as part of this action. This competence bonus increases by +1 for every four psychic warrior levels you gain thereafter. At 20th level, when using the charge action, you can instead make a full attack at the end of the charge." compset="ClSpecial">
    <fieldval field="abValue" value="1"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the number of dice
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name to include the bonus damage
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)]]></eval>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cWPaMKnPri" name="Mindknight&apos;s Path" description="You have sworn an oath to your order, and in exchange you have been trained in mystic techniques that allow you to summon a weapon from beyond time and space, while protecting yourself with the power of your mind.\n\n{b}Bonus Class Skill{/b}: Diplomacy\n\n{b}Powers{/b}:  Call weapon, inertial armor\n\n{b}Skills{/b}: Autohypnosis, Diplomacy, Ride\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Mindknight&apos;s Path" uniqueness="unique">
    <arrayval field="usrArray" index="0" value="Primary"/>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="PathSkill" tag="skPUAhypno"/>
    <tag group="PathSkill" tag="skDiplo"/>
    <tag group="PathSkill" tag="skRide"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClsAllowPs" tag="puPUCalWe1"/>
    <tag group="ClsAllowPs" tag="puInerArm1"/>
    <bootstrap thing="cPWaTraMin"></bootstrap>
    <bootstrap thing="cPWaManMin"></bootstrap>
    <bootstrap thing="puPUCalWe1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="puInerArm1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPWaTraMin" name="Trance (Mind Knight&apos;s Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus to your initiative. In addition, when wielding a weapon you gain through call weaponry, you gain a +1 bonus to attack and damage rolls with that weapon. All of these bonuses increase by 1 for every four psychic warrior levels you gain thereafter.\n\n{B}Note:{/b} To gain the Call Weaponry bonus add the &quot;Call Weaponry&quot; spell/power on the &quot;Adjust&quot; tab." compset="ClSpecial" summary="When psi-focused competence bonus Hit/Dmg with Call Weaponry weapons.">
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ If Not psionically focused get out now
      doneif (hero.tagis[Hero.PsiFocus] <> 1)
      ~ Give bonus to initiative
      #applybonus[BonComp,hero.child[Initiative],field[abValue].value]]]></eval>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManMin" name="Maneuver (Mind Knight&apos;s Path)" description="{b}Maneuver{/b}: Beginning at 3rd level, you can expend your psionic focus as a standard action to make a melee attack against two creatures adjacent to you. For every five psychic warrior levels you gain thereafter, you can make one additional attack against another enemy adjacent to you." compset="ClSpecial">
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    </thing>
  <thing id="cWPaWpnPri" name="Weaponmaster Path" description="You become one with your weapon and wield it with vicious strokes, cleaving enemies as if wheat before a scythe. Your weapon is an extension of your will and thus it is deadly.\n\n{b}Bonus Class Skill{/b}: Knowledge (nobility)\n\n{b}Powers{/b}: Empty mind, metaphysical weapon\n\n{b}Skills{/b}: Acrobatics, Craft, Knowledge (nobility)\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Weaponmaster&apos;s Path" uniqueness="unique">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skKnowNobl"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="PathSkill" tag="Craft"/>
    <tag group="PathSkill" tag="skKnowNobl"/>
    <tag group="ClsAllowPs" tag="puMetaPhW1"/>
    <tag group="ClsAllowPs" tag="puEmpMind1"/>
    <bootstrap thing="cPWaTraWea"></bootstrap>
    <bootstrap thing="cPWaManWea"></bootstrap>
    <bootstrap thing="puMetaPhW1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <bootstrap thing="puEmpMind1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      </bootstrap>
    <eval phase="PreLevel">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPWaTraWea" name="Trance (Weaponmaster&apos;s Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus on attack rolls made with a weapon (natural weapons do not count for this benefit). This bonus increases by 1 every four psychic warrior levels thereafter." compset="ClSpecial" summary="When psi-focused gain a competence bonus on manufactured weapons.">
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
    ~ If we're not shown, just get out now
    doneif (tagis[Helper.ShowSpec] <> 1)
    ~ If we've been Disabled, get out now
    doneif (tagis[Helper.SpcDisable] <> 0)

    ~ Set the level bonus
    field[abValue].value += 1
    If (field[xTotalLev].value >= 7) Then
      field[abValue].value += 1
    Endif
    If (field[xTotalLev].value >= 11) Then
      field[abValue].value += 1
    Endif
    If (field[xTotalLev].value >= 15) Then
      field[abValue].value += 1
    Endif
    If (field[xTotalLev].value >= 19) Then
      field[abValue].value += 1
    Endif

    ~ Set live name
    field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

    ~ If Not psionically focused get out now
    doneif (hero.tagis[Hero.PsiFocus] <> 1)
    ~ If not active get out now
    doneif (field[abilActive].value <> 1)

    ~ Give bonus to attack to non natural weapons
    foreach pick in hero from BaseWep where "!Helper.NatAttSpec & !wGroup.Natural"
       ~ Melee bonus
       #applybonus[atmBonComp,eachpick,field[abValue].value]
       ~ Range bonus
       #applybonus[atrBonComp,eachpick,field[abValue].value]
    nexteach]]></eval>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManWea" name="Maneuver (Weaponmaster&apos;s Path)" description="{b}Maneuver{/b}: Beginning at 3rd level, you can expend your psionic focus as an immediate action when an enemy attacks you to make a single melee attack against that enemy and then take a 5-foot step. The enemy&#146;s attack is resolved before you take your action. At 8th level and every five psychic warrior levels thereafter, you gain a +1 competence bonus on the attack and damage rolls made for this attack." compset="ClSpecial">
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    </thing>
  </document>
